<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />

<meta name="viewport" content="width=device-width, initial-scale=1" />

<meta name="author" content="Alex Zwanenburg" />

<meta name="date" content="2022-02-02" />

<title>Using familiar prospectively</title>

<script src="data:application/javascript;base64,Ly8gUGFuZG9jIDIuOSBhZGRzIGF0dHJpYnV0ZXMgb24gYm90aCBoZWFkZXIgYW5kIGRpdi4gV2UgcmVtb3ZlIHRoZSBmb3JtZXIgKHRvCi8vIGJlIGNvbXBhdGlibGUgd2l0aCB0aGUgYmVoYXZpb3Igb2YgUGFuZG9jIDwgMi44KS4KZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignRE9NQ29udGVudExvYWRlZCcsIGZ1bmN0aW9uKGUpIHsKICB2YXIgaHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCJkaXYuc2VjdGlvbltjbGFzcyo9J2xldmVsJ10gPiA6Zmlyc3QtY2hpbGQiKTsKICB2YXIgaSwgaCwgYTsKICBmb3IgKGkgPSAwOyBpIDwgaHMubGVuZ3RoOyBpKyspIHsKICAgIGggPSBoc1tpXTsKICAgIGlmICghL15oWzEtNl0kL2kudGVzdChoLnRhZ05hbWUpKSBjb250aW51ZTsgIC8vIGl0IHNob3VsZCBiZSBhIGhlYWRlciBoMS1oNgogICAgYSA9IGguYXR0cmlidXRlczsKICAgIHdoaWxlIChhLmxlbmd0aCA+IDApIGgucmVtb3ZlQXR0cmlidXRlKGFbMF0ubmFtZSk7CiAgfQp9KTsK"></script>
<img src="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+DQo8c3ZnDQogICB4bWxuczpkYz0iaHR0cDovL3B1cmwub3JnL2RjL2VsZW1lbnRzLzEuMS8iDQogICB4bWxuczpjYz0iaHR0cDovL2NyZWF0aXZlY29tbW9ucy5vcmcvbnMjIg0KICAgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIg0KICAgeG1sbnM6c3ZnPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyINCiAgIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyINCiAgIHhtbG5zOnNvZGlwb2RpPSJodHRwOi8vc29kaXBvZGkuc291cmNlZm9yZ2UubmV0L0RURC9zb2RpcG9kaS0wLmR0ZCINCiAgIHhtbG5zOmlua3NjYXBlPSJodHRwOi8vd3d3Lmlua3NjYXBlLm9yZy9uYW1lc3BhY2VzL2lua3NjYXBlIg0KICAgdmVyc2lvbj0iMS4xIg0KICAgaWQ9IkxheWVyXzEiDQogICB4PSIwcHgiDQogICB5PSIwcHgiDQogICB2aWV3Qm94PSIwIDAgNzM1IDg1MiINCiAgIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDczNSA4NTI7Ig0KICAgeG1sOnNwYWNlPSJwcmVzZXJ2ZSINCiAgIHNvZGlwb2RpOmRvY25hbWU9ImZhbWlsaWFyLnN2ZyINCiAgIGlua3NjYXBlOnZlcnNpb249IjEuMC4xICgzYmMyZTgxM2Y1LCAyMDIwLTA5LTA3KSI+PG1ldGFkYXRhDQogICBpZD0ibWV0YWRhdGE3OSI+PHJkZjpSREY+PGNjOldvcmsNCiAgICAgICByZGY6YWJvdXQ9IiI+PGRjOmZvcm1hdD5pbWFnZS9zdmcreG1sPC9kYzpmb3JtYXQ+PGRjOnR5cGUNCiAgICAgICAgIHJkZjpyZXNvdXJjZT0iaHR0cDovL3B1cmwub3JnL2RjL2RjbWl0eXBlL1N0aWxsSW1hZ2UiIC8+PC9jYzpXb3JrPjwvcmRmOlJERj48L21ldGFkYXRhPjxkZWZzDQogICBpZD0iZGVmczc3Ij48Y2xpcFBhdGgNCiAgICAgY2xpcFBhdGhVbml0cz0idXNlclNwYWNlT25Vc2UiDQogICAgIGlkPSJjbGlwUGF0aDEyNjEiPjxwYXRoDQogICAgICAgY2xhc3M9InN0MCINCiAgICAgICBkPSJNIDE4LjIsNjI2LjQgViAyMjMuMSBMIDY5LjgsMTkzLjMgMzY3LjUsMjEuNSB2IDAgbCAyOTYuNywxNzEuMyA1Mi42LDMwLjMgViA2MjYuNCBMIDM2Ny41LDgyOCBaIg0KICAgICAgIGlkPSJwYXRoMTI2MyINCiAgICAgICBzdHlsZT0iZGlzcGxheTppbmxpbmU7ZmlsbDojZmZkNWU1IiAvPjwvY2xpcFBhdGg+PC9kZWZzPjxzb2RpcG9kaTpuYW1lZHZpZXcNCiAgIHBhZ2Vjb2xvcj0iI2ZmZmZmZiINCiAgIGJvcmRlcmNvbG9yPSIjNjY2NjY2Ig0KICAgYm9yZGVyb3BhY2l0eT0iMSINCiAgIG9iamVjdHRvbGVyYW5jZT0iMTAiDQogICBncmlkdG9sZXJhbmNlPSIxMCINCiAgIGd1aWRldG9sZXJhbmNlPSIxMCINCiAgIGlua3NjYXBlOnBhZ2VvcGFjaXR5PSIwIg0KICAgaW5rc2NhcGU6cGFnZXNoYWRvdz0iMiINCiAgIGlua3NjYXBlOndpbmRvdy13aWR0aD0iMjQ4OSINCiAgIGlua3NjYXBlOndpbmRvdy1oZWlnaHQ9IjEyODkiDQogICBpZD0ibmFtZWR2aWV3NzUiDQogICBzaG93Z3JpZD0iZmFsc2UiDQogICBpbmtzY2FwZTp6b29tPSIwLjcwNTM5OTA2Ig0KICAgaW5rc2NhcGU6Y3g9IjQ1NS4yNDI1MyINCiAgIGlua3NjYXBlOmN5PSI2MC42ODAwNzkiDQogICBpbmtzY2FwZTp3aW5kb3cteD0iMCINCiAgIGlua3NjYXBlOndpbmRvdy15PSIwIg0KICAgaW5rc2NhcGU6d2luZG93LW1heGltaXplZD0iMCINCiAgIGlua3NjYXBlOmN1cnJlbnQtbGF5ZXI9ImxheWVyMiIgLz4NCjxzdHlsZQ0KICAgdHlwZT0idGV4dC9jc3MiDQogICBpZD0ic3R5bGUyIj4NCgkuc3Qwe2ZpbGw6IzE0NEY4NTt9DQoJLnN0MXtmaWxsOiMxNzNFNkM7fQ0KCS5zdDJ7ZmlsbDojRTZCMzVBO30NCgkuc3Qze2ZpbGw6I0ZGRkZGRjt9DQoJLnN0NHtmaWxsOiMyMzFGMjA7fQ0KPC9zdHlsZT4NCjxnDQogICBpbmtzY2FwZTpncm91cG1vZGU9ImxheWVyIg0KICAgaWQ9ImxheWVyMyINCiAgIGlua3NjYXBlOmxhYmVsPSJIZXhhZ29uIg0KICAgc3R5bGU9ImRpc3BsYXk6aW5saW5lIj48cGF0aA0KICAgICBjbGFzcz0ic3QwIg0KICAgICBkPSJNIDE4LjIsNjI2LjQgViAyMjMuMSBMIDY5LjgsMTkzLjMgMzY3LjUsMjEuNSB2IDAgbCAyOTYuNywxNzEuMyA1Mi42LDMwLjMgViA2MjYuNCBMIDM2Ny41LDgyOCBaIg0KICAgICBpZD0icGF0aDQiDQogICAgIHN0eWxlPSJmaWxsOiNmZmQ1ZTUiIC8+PHBhdGgNCiAgICAgY2xhc3M9InN0MSINCiAgICAgZD0iTSA3MDUuNiwxOTYuMiA0MjcuOCwzNS44IDM2Ny41LDEgMzA3LjIsMzUuOCAyOS40LDE5Ni4yIDAuMSwyMTMuMSB2IDQyNC4yIGwgMjkuMywxNi45IDI4MS4zLDE2Mi40IDU2LjksMzIuOCA1Ni45LC0zMi44IDI4MS4zLC0xNjIuNCAyOS4zLC0xNi45IFYgMjEzLjEgWiBtIDAsNDI1LjMgTCAzNjcuNSw4MTYuNyAyOS40LDYyMS41IFYgMjMxIEwgMzY3LjUsMzUuOCB2IDAgTCA3MDUuNiwyMzEgWiINCiAgICAgaWQ9InBhdGg4Ig0KICAgICBzdHlsZT0iZmlsbDojZmZhYWNjIiAvPjwvZz48Zw0KICAgaW5rc2NhcGU6Z3JvdXBtb2RlPSJsYXllciINCiAgIGlkPSJsYXllcjIiDQogICBpbmtzY2FwZTpsYWJlbD0iTmV0d29ya0JHIj48Zw0KICAgICBpZD0iZzEyMDMiDQogICAgIGNsaXAtcGF0aD0idXJsKCNjbGlwUGF0aDEyNjEpIj48cGF0aA0KICAgICAgIHN0eWxlPSJmaWxsOiNmZmVlYWE7c3Ryb2tlOm5vbmU7c3Ryb2tlLXdpZHRoOjFweDtzdHJva2UtbGluZWNhcDpidXR0O3N0cm9rZS1saW5lam9pbjptaXRlcjtzdHJva2Utb3BhY2l0eToxIg0KICAgICAgIGQ9Ik0gNjA0LjgyNzI3LDEyMy44MDc0NCAzNjguODE2MDQsMjYwLjA2ODU5IDI5OC44MTk0NSwyNjEuMTI2MjggMS4wNDYxMTIxLDQzMy4wNDU3OSAyOS4zNTEyLDQ4Mi4yMTY0OCAzMjcuMTI0NTMsMzEwLjI5Njk3IDM5Ny4xMjExMiwzMDkuMjM5MjggNjMzLjEzMjM2LDE3Mi45NzgxMyBaIg0KICAgICAgIGlkPSJwYXRoMTAzMi04Ig0KICAgICAgIHNvZGlwb2RpOm5vZGV0eXBlcz0iY2NjY2NjY2NjIiAvPjxwYXRoDQogICAgICAgc3R5bGU9ImZpbGw6I2ZmZWVhYTtzdHJva2U6bm9uZTtzdHJva2Utd2lkdGg6MXB4O3N0cm9rZS1saW5lY2FwOmJ1dHQ7c3Ryb2tlLWxpbmVqb2luOm1pdGVyO3N0cm9rZS1vcGFjaXR5OjEiDQogICAgICAgZD0iTSA1MjQuNjYwMTYsLTE1LjMzNTY0NyAyODguNjQ4OTMsMTIwLjkyNTUgMjE4LjY1MjM0LDEyMS45ODMxOSAtNzkuMTIwOTg3LDI5My45MDI3IC01MC44MTU4ODMsMzQzLjA3MzM4IDI0Ni45NTc0NCwxNzEuMTUzODcgMzE2Ljk1NDAzLDE3MC4wOTYxOCA1NTIuOTY1MjcsMzMuODM1MDMyIFoiDQogICAgICAgaWQ9InBhdGgxMDMyLTgtOCINCiAgICAgICBzb2RpcG9kaTpub2RldHlwZXM9ImNjY2NjY2NjYyIgLz48cGF0aA0KICAgICAgIHN0eWxlPSJmaWxsOiNmZmRkNTU7c3Ryb2tlOm5vbmU7c3Ryb2tlLXdpZHRoOjFweDtzdHJva2UtbGluZWNhcDpidXR0O3N0cm9rZS1saW5lam9pbjptaXRlcjtzdHJva2Utb3BhY2l0eToxIg0KICAgICAgIGQ9Ik0gNTUyLjk2NTI3LDMzLjgzNTAzMiAzMTYuOTU0MDMsMTcwLjA5NjE4IDI0Ni45NTc0NCwxNzEuMTUzODcgLTUwLjgxNTg4MywzNDMuMDczMzggMS4wNDYxMTIxLDQzMy4wNDU3OSAyOTguODE5NDQsMjYxLjEyNjI4IDM2OC44MTYwMywyNjAuMDY4NTkgNjA0LjgyNzI2LDEyMy44MDc0NCBaIg0KICAgICAgIGlkPSJwYXRoMTAzMi04LTgtNyINCiAgICAgICBzb2RpcG9kaTpub2RldHlwZXM9ImNjY2NjY2NjYyIgLz48L2c+PHBhdGgNCiAgICAgY2xhc3M9InN0MSINCiAgICAgZD0iTSA3MDUuNiwxOTYuMiA0MjcuOCwzNS44IDM2Ny41LDEgMzA3LjIsMzUuOCAyOS40LDE5Ni4yIDAuMSwyMTMuMSB2IDQyNC4yIGwgMjkuMywxNi45IDI4MS4zLDE2Mi40IDU2LjksMzIuOCA1Ni45LC0zMi44IDI4MS4zLC0xNjIuNCAyOS4zLC0xNi45IFYgMjEzLjEgWiBtIDAsNDI1LjMgTCAzNjcuNSw4MTYuNyAyOS40LDYyMS41IFYgMjMxIEwgMzY3LjUsMzUuOCB2IDAgTCA3MDUuNiwyMzEgWiINCiAgICAgaWQ9InBhdGg4LTQiDQogICAgIHN0eWxlPSJkaXNwbGF5OmlubGluZTtmaWxsOiNmZmFhY2MiIC8+PHBhdGgNCiAgICAgc29kaXBvZGk6dHlwZT0ic3RhciINCiAgICAgc3R5bGU9ImRpc3BsYXk6aW5saW5lO2ZpbGw6I2ZmZTY4MDtzdHJva2U6I2ZmZWVhYTtzdHJva2Utd2lkdGg6MTA7c3Ryb2tlLWxpbmVjYXA6cm91bmQ7c3Ryb2tlLWxpbmVqb2luOnJvdW5kO3N0cm9rZS1taXRlcmxpbWl0OjQ7c3Ryb2tlLWRhc2hhcnJheTpub25lIg0KICAgICBpZD0icGF0aDEwMTMtMCINCiAgICAgc29kaXBvZGk6c2lkZXM9IjUiDQogICAgIHNvZGlwb2RpOmN4PSI1OTMuNDM1OTIiDQogICAgIHNvZGlwb2RpOmN5PSIyNzMuNTg1MjMiDQogICAgIHNvZGlwb2RpOnIxPSI0My40MjI2ODgiDQogICAgIHNvZGlwb2RpOnIyPSIyMS43MTEzNDQiDQogICAgIHNvZGlwb2RpOmFyZzE9IjAuNjI4Nzk2MjkiDQogICAgIHNvZGlwb2RpOmFyZzI9IjEuMjU3MTE0OCINCiAgICAgaW5rc2NhcGU6ZmxhdHNpZGVkPSJmYWxzZSINCiAgICAgaW5rc2NhcGU6cm91bmRlZD0iMCINCiAgICAgaW5rc2NhcGU6cmFuZG9taXplZD0iMCINCiAgICAgZD0ibSA2MjguNTUzNDEsMjk5LjEyNTIzIC0yOC40MTgxOSwtNC44ODgwOCAtMjAuMTM3MzgsMjAuNjM5MSAtNC4xMzI4NywtMjguNTM3OCAtMjUuODUxNzQsLTEyLjc3Mzk2IDI1Ljg2Mzk0LC0xMi43NDkyNSA0LjE2MDEzLC0yOC41MzM4NCAyMC4xMTc2NSwyMC42NTgzMyAyOC40MjI4NSwtNC44NjA5MiAtMTMuNDMwNTUsMjUuNTE2OCB6Ig0KICAgICBpbmtzY2FwZTp0cmFuc2Zvcm0tY2VudGVyLXg9IjQuMTQwMzkwOCINCiAgICAgaW5rc2NhcGU6dHJhbnNmb3JtLWNlbnRlci15PSItMC4wMDYzOTg5NTg2IiAvPjxwYXRoDQogICAgIHNvZGlwb2RpOnR5cGU9InN0YXIiDQogICAgIHN0eWxlPSJkaXNwbGF5OmlubGluZTtmaWxsOiNmZmU2ODA7c3Ryb2tlOiNmZmVlYWE7c3Ryb2tlLXdpZHRoOjEwO3N0cm9rZS1saW5lY2FwOnJvdW5kO3N0cm9rZS1saW5lam9pbjpyb3VuZDtzdHJva2UtbWl0ZXJsaW1pdDo0O3N0cm9rZS1kYXNoYXJyYXk6bm9uZSINCiAgICAgaWQ9InBhdGgxMDEzLTAtNSINCiAgICAgc29kaXBvZGk6c2lkZXM9IjUiDQogICAgIHNvZGlwb2RpOmN4PSI2NTkuMDg4ODEiDQogICAgIHNvZGlwb2RpOmN5PSIzNTcuMjUxMDEiDQogICAgIHNvZGlwb2RpOnIxPSI0My40MjI2ODgiDQogICAgIHNvZGlwb2RpOnIyPSIyMS43MTEzNDQiDQogICAgIHNvZGlwb2RpOmFyZzE9IjAuNjI4Nzk2MjkiDQogICAgIHNvZGlwb2RpOmFyZzI9IjEuMjU3MTE0OCINCiAgICAgaW5rc2NhcGU6ZmxhdHNpZGVkPSJmYWxzZSINCiAgICAgaW5rc2NhcGU6cm91bmRlZD0iMCINCiAgICAgaW5rc2NhcGU6cmFuZG9taXplZD0iMCINCiAgICAgZD0ibSA2OTQuMjA2MywzODIuNzkxIC0yOC40MTgxOSwtNC44ODgwOCAtMjAuMTM3MzgsMjAuNjM5MSAtNC4xMzI4NiwtMjguNTM3OCAtMjUuODUxNzUsLTEyLjc3Mzk2IDI1Ljg2Mzk0LC0xMi43NDkyNSA0LjE2MDEzLC0yOC41MzM4NCAyMC4xMTc2NSwyMC42NTgzMyAyOC40MjI4NSwtNC44NjA5MiAtMTMuNDMwNTQsMjUuNTE2OCB6Ig0KICAgICBpbmtzY2FwZTp0cmFuc2Zvcm0tY2VudGVyLXg9Ii0yLjM3NjIyNDEiDQogICAgIGlua3NjYXBlOnRyYW5zZm9ybS1jZW50ZXIteT0iLTAuMTk2MzkzMzMiDQogICAgIHRyYW5zZm9ybT0ibWF0cml4KDAuNTA4ODM2OTgsMC4zNTEyMzQzNiwtMC4zNTEyMzQzNiwwLjUwODgzNjk4LDQzNy45MDcxLC01MS4yMzg1MDUpIiAvPjxwYXRoDQogICAgIHNvZGlwb2RpOnR5cGU9InN0YXIiDQogICAgIHN0eWxlPSJkaXNwbGF5OmlubGluZTtmaWxsOiNmZmU2ODA7c3Ryb2tlOiNmZmVlYWE7c3Ryb2tlLXdpZHRoOjEwO3N0cm9rZS1saW5lY2FwOnJvdW5kO3N0cm9rZS1saW5lam9pbjpyb3VuZDtzdHJva2UtbWl0ZXJsaW1pdDo0O3N0cm9rZS1kYXNoYXJyYXk6bm9uZSINCiAgICAgaWQ9InBhdGgxMDEzLTAtNS00Ig0KICAgICBzb2RpcG9kaTpzaWRlcz0iNSINCiAgICAgc29kaXBvZGk6Y3g9IjY1OS4wODg4MSINCiAgICAgc29kaXBvZGk6Y3k9IjM1Ny4yNTEwMSINCiAgICAgc29kaXBvZGk6cjE9IjQzLjQyMjY4OCINCiAgICAgc29kaXBvZGk6cjI9IjIxLjcxMTM0NCINCiAgICAgc29kaXBvZGk6YXJnMT0iMC42Mjg3OTYyOSINCiAgICAgc29kaXBvZGk6YXJnMj0iMS4yNTcxMTQ4Ig0KICAgICBpbmtzY2FwZTpmbGF0c2lkZWQ9ImZhbHNlIg0KICAgICBpbmtzY2FwZTpyb3VuZGVkPSIwIg0KICAgICBpbmtzY2FwZTpyYW5kb21pemVkPSIwIg0KICAgICBkPSJtIDY5NC4yMDYzLDM4Mi43OTEgLTI4LjQxODE5LC00Ljg4ODA4IC0yMC4xMzczOCwyMC42MzkxIC00LjEzMjg2LC0yOC41Mzc4IC0yNS44NTE3NSwtMTIuNzczOTYgMjUuODYzOTQsLTEyLjc0OTI1IDQuMTYwMTMsLTI4LjUzMzg0IDIwLjExNzY1LDIwLjY1ODMzIDI4LjQyMjg1LC00Ljg2MDkyIC0xMy40MzA1NCwyNS41MTY4IHoiDQogICAgIGlua3NjYXBlOnRyYW5zZm9ybS1jZW50ZXIteD0iLTIuMzc2MjI0MSINCiAgICAgaW5rc2NhcGU6dHJhbnNmb3JtLWNlbnRlci15PSItMC4xOTYzOTMzMyINCiAgICAgdHJhbnNmb3JtPSJtYXRyaXgoMC41MDg4MzY5OCwwLjM1MTIzNDM2LC0wLjM1MTIzNDM2LDAuNTA4ODM2OTgsNDU4LjI3NjM0LC0xMjguMTM1NjcpIiAvPjwvZz48Zw0KICAgaW5rc2NhcGU6Z3JvdXBtb2RlPSJsYXllciINCiAgIGlkPSJsYXllcjEiDQogICBpbmtzY2FwZTpsYWJlbD0iRmFtaWxpYXIiDQogICBzdHlsZT0iZGlzcGxheTppbmxpbmUiDQogICBzb2RpcG9kaTppbnNlbnNpdGl2ZT0idHJ1ZSI+PHBhdGgNCiAgICAgaWQ9InJlY3QxMjY1Ig0KICAgICBzdHlsZT0iZmlsbDojZmZkNWU1O3N0cm9rZTpub25lO3N0cm9rZS13aWR0aDowLjg4ODY2OTtzdHJva2UtbGluZWNhcDpyb3VuZDtzdHJva2UtbGluZWpvaW46cm91bmQiDQogICAgIGQ9Im0gMjQ1LjQ2MDU1LDI1Ny4xNzU2MyAyMjkuOTU3MzcsLTE1LjU5NDAxIDI1LjU0OTExLDY3Ljc1NzI1IC0wLjAzMTYsMTAwLjE2NjU3IC0xMTMuMjE2MDEsNDIuMjI0NTcgLTE0OC42MzgxOSwtNDIuOTMzMzkgeiINCiAgICAgc29kaXBvZGk6bm9kZXR5cGVzPSJjY2NjY2NjIiAvPjxwYXRoDQogICAgIHN0eWxlPSJmaWxsOiNkNDAwNTU7c3Ryb2tlOm5vbmU7c3Ryb2tlLXdpZHRoOjMuMTYyOTUiDQogICAgIGQ9Im0gMTk2LjE4Njc2LDMxNS42MjMxIGMgLTEwLjYzMjUzLDE3LjM4NTc3IC0zMy42NDIyMywxMS42NDE4NiAtNDMuMDA3MzcsMjguNzkxMDMgLTM2LjYxNTA4LDY3LjA0OTM5IDE3LjQzNTM5LDE0NS4wMDMzNCA2Mi4xMzg3NywxODYuOTc4NzkgMTcuNTAwNiwxNi40MzE1IDQyLjc1MDgsNTQuNjY1NzMgNTAuNzM0LDQ2Ljg5MzgzIDcuOTgzMiwtNy43NzE5IC0xNS44MTQ3LC00NC4yODEyMyAtMTUuODE0NywtNDQuMjgxMjMgMjguMjk2NiwtMjAuMjg1NyA4Mi4yOTksNDMuODIxMzkgODYuNjgzNCwxOS4zMDUzNCA0LjM4NDUsLTI0LjUxNjA2IC00Ni44NjM1LC0xOC45NTc0MiAtNjcuNzA1OCwtNDQuNjA4OTEgMTguMzU5NCwwLjAwMyA1OS42OTU3LDEuMjQ2MiA2My4yNTg5LC05LjQ4ODg0IDMuNTYzMywtMTAuNzM1MDQgLTcyLjc0NzcsLTEyLjY1MTc4IC03Mi43NDc3LC0xMi42NTE3OCB2IC05LjQ4ODgzIGMgMzQuMDcwNiwtOS4yOTU5IDU3LjYzOTksMC4wODg2IDkxLjcyNTQsLTAuODE5MjEgNDAuNjM4OCwtMS4wODE3MiA2OC4wNzk1LC0xNS42MzQ0NCAxMDQuMzc3Miw3LjE0NTEgLTI1LjIwNTUsNi4wNjk2OSAtNzIuMzMxMywyNS40ODkxOCAtNjkuNTg0OCwzMS42Mjk0NSAyLjc0NjUsNi4xNDAyNyA3Mi43NDc3LC0zLjE2Mjk0IDcyLjc0NzcsLTMuMTYyOTQgMCwwIC01Ny45ODk2LDU2Ljc3NzggLTM3Ljk1NTMsNjMuMjU4OTEgMjAuMDM0Myw2LjQ4MTExIDQ3LjAwMjUsLTUzLjI2OTU3IDY5LjI0OTUsLTQ2LjM0OTgxIDE4LjM2NDEsNS4yNTA0OSAxMi40Nzk0LDQ4Ljk0NjgzIDI1LjYzODksNDYuMzQ5ODEgMTMuMTU5NSwtMi41OTcwMiAtMS4zNjMzLC0zNS40MTIzNCA0Ljc2NjUsLTUzLjc3MDA4IDE1LjkzMTgsLTQ3LjcxNjE5IDcxLjQ1NzMsLTEyNC40NjYzMyA0NC44MzQ4LC0xNzcuMDY2NDMgLTkuODU4OSwtMTkuNDgxODUgLTM1LjIwMDQsLTE4LjU1NDc5IC00NS45OTU2LC0zOC4wMjg0MSAtMTAuMDkyOSwtMTguMjA3MTggLTguMDE4MSwtMzcuMjU3NiAtMjIuOTI1LC01My43NDMxOSAtMzQuMzU5NzQsLTI0LjY2ODM4IC0zOS4zOTM0NSwtNDAuNTAzNzcgLTEwNy4xOTg2LC00NC4yOTM1OCAwLDAgLTc5LjMyNjg3LDEuOTE0MzYgLTExNS4zOTY5NCwyMC4zNzcwMSAtMzYuMDcwMDYsMTguNDYyNjUgLTYzLjExMDE2LDYyLjk2NTY2IC03Ny44MjMyNiw4Ny4wMjM5NyB6IG0gMjg4LjEwODYsLTQ0LjE0MjA2IGMgLTMxLjExMjYsMy4yMDk0NCAtNTEuMjQzMiw1Ni41MjQzNiAtMTIuNjM5MSw1NS43NDQzOCA5LjIzODksLTAuMTg2NjEgMTcuNjg0LC02Ljk1MjQ3IDI1LjI5MDksLTExLjQ2MzE1IDE0LjkyMjgsNDQuMDg1MTQgLTIwLjI4MDgsNjMuNDUyOCAtNjAuMDk2LDcxLjg0MjIgLTY2Ljk3MTUsMTQuMTExOCAtMTI5LjYxMjEsMjEuNjA3MDMgLTE4OS43NzY3LC0xOC4wNzIxMiA0Ljk1MTYsLTI2LjY1NTczIC02LjM2NzksLTkwLjQ1MDQ0IDE1Ljg3NTgsLTEwMy4wNTY5OSAxMS41MjQ1LC02LjUzMTQ4IDI1LjA4NzgsLTcuOTQ2MjcgMzcuNjA4NywtMy4zOTIyNiAxNi42MDE2LDYuMDM4MzggMjQuOTA1MywyNC44MTY3OSA0MS40MDY0LDMyLjM4MTI5IDM2LjUzOTMsMTYuNzUwMzIgOTEuNzQyOCwtNS4yNjE4OCA4OC41NTk5LC00OS4yODY5MiAyMi45NzE5LDAgNDkuMzI5MywtMy4yMTc2NiA1My43NzAxLDI1LjMwMzU3IG0gLTIwNS4yNDk4LDE4LjE3NDYgYyAtMzEuMDExMSwxMi43ODE0NiAtNy4xNTgxLDY2LjE4NCAyNC4yODYsNTIuNjYyMDkgMjkuMTcsLTEyLjU0MzkyIDYuNTQ5OCwtNjUuMzcxMTIgLTI0LjI4NiwtNTIuNjYyMDkgbSAxMzIuNTAyMSw0MS45MjEzNiAwLjg3NzEsMTEuNzEzOSA4LjM5MTQsLTAuMDY0NSAtMS4wNTE2LC0xMy4wMzM4MSAtOC4yMTY5LDEuMzg0NDUgbSAtNTAuNjA3MSwzLjE2Mjk1IDMuMTYyOSwxMi42NTE3OCBoIDYuMzI1OSBsIDMuMTYyOSwtMTIuNjUxNzggaCAtMTIuNjUxNyBtIDE0Mi4zMzI1LDUwLjYwNzEyIGMgLTUxLjc4MzEsNjIuNDkzNDggLTE1Mi42NzczLDUxLjM0NDEgLTIyMS40MDYyLDM0Ljc5MjQxIDAsMCA3OS4zMjMzLDMuNTYzMjQgMTE2LjY0NzgsLTIuNjY3MzMgMzcuMzI0NSwtNi4yMzA1NiAxMDQuNzU4NCwtMzIuMTI1MDggMTA0Ljc1ODQsLTMyLjEyNTA4IG0gLTUzLjc3MDEsNzUuOTEwNyBjIDcuODY2MiwtNS42MzYzNyA1NC4wMDQxLC0zOS45MDA1NiA1OC4xODU1LC0zNy4zOTg2NyAxMC42NTYsNi4zNzk2NiAtMi45NzYzLDI1LjIyNDQ5IC04LjI1NTIsMzAuMzUxNjMgLTEzLjI0MzMsMTIuODU3MzcgLTMzLjQ2MDgsMTEuOTE0ODEgLTQ5LjkzMDMsNy4wNDcwNCBtIC0xOTIuOTM5NiwtNi4zMjU4OSB2IDYuMzI1ODkgYyAtMjIuMjk2LDEwLjcxMjg5IC0zNS43NTUyLDIuMDkwNzEgLTM3Ljk1NTQsLTIyLjE0MDYyIHoiDQogICAgIGlkPSJwYXRoOTg4Ig0KICAgICBzb2RpcG9kaTpub2RldHlwZXM9InNjY3pjemN6Y2NjY3pjemN6Y2NzY2N6c2NzY2Njc3NzY2Njc2NjY2NjY2NjY2NjY2N6Y2NjY2NjY2NjIiAvPjx0ZXh0DQogICAgIHhtbDpzcGFjZT0icHJlc2VydmUiDQogICAgIHN0eWxlPSJmb250LXNpemU6MTA2LjY2N3B4O2xpbmUtaGVpZ2h0OjEuMjU7Zm9udC1mYW1pbHk6QmFobnNjaHJpZnQ7LWlua3NjYXBlLWZvbnQtc3BlY2lmaWNhdGlvbjpCYWhuc2NocmlmdDtmaWxsOiNmZmZmZmYiDQogICAgIHg9IjEzMy4wMTk3MyINCiAgICAgeT0iNjY5LjAyMDI2Ig0KICAgICBpZD0idGV4dDEwMDciPjx0c3Bhbg0KICAgICAgIHNvZGlwb2RpOnJvbGU9ImxpbmUiDQogICAgICAgaWQ9InRzcGFuMTAwNSINCiAgICAgICB4PSIxMzMuMDE5NzMiDQogICAgICAgeT0iNjY5LjAyMDI2Ig0KICAgICAgIHN0eWxlPSJmb250LXN0eWxlOm5vcm1hbDtmb250LXZhcmlhbnQ6bm9ybWFsO2ZvbnQtd2VpZ2h0Om5vcm1hbDtmb250LXN0cmV0Y2g6bm9ybWFsO2ZvbnQtc2l6ZToxMDYuNjY3cHg7Zm9udC1mYW1pbHk6J0x1Y2lkYSBTYW5zJzstaW5rc2NhcGUtZm9udC1zcGVjaWZpY2F0aW9uOidMdWNpZGEgU2Fucyc7ZmlsbDojZmZmZmZmIj5GQU1JTElBUjwvdHNwYW4+PC90ZXh0PjxwYXRoDQogICAgIHN0eWxlPSJmaWxsOiNmZmFhY2M7c3Ryb2tlOm5vbmU7c3Ryb2tlLXdpZHRoOjFweDtzdHJva2UtbGluZWNhcDpidXR0O3N0cm9rZS1saW5lam9pbjptaXRlcjtzdHJva2Utb3BhY2l0eToxIg0KICAgICBkPSJNIDM2Mi41NzgyMiw4NS41MTIxMDQgMzExLjczMTMsMjQ2Ljg2ODI5IGMgMCwwIDI1LjIyMDMsMzEuNjg0NTcgNTQuODgyNTUsMzAuODI0NDUgMzYuNzg3NDQsLTEuMDY2NzMgNTQuMjY3MDksLTM1LjEyMDM1IDU0LjI2NzA5LC0zNS4xMjAzNSB6Ig0KICAgICBpZD0icGF0aDEwMDkiDQogICAgIHNvZGlwb2RpOm5vZGV0eXBlcz0iY2NzY2MiIC8+PHBhdGgNCiAgICAgc29kaXBvZGk6dHlwZT0ic3RhciINCiAgICAgc3R5bGU9ImZpbGw6I2ZmZTY4MDtzdHJva2U6bm9uZTtzdHJva2Utd2lkdGg6MC40NjMzNDQ7c3Ryb2tlLWxpbmVjYXA6cm91bmQ7c3Ryb2tlLWxpbmVqb2luOnJvdW5kIg0KICAgICBpZD0icGF0aDEwMTEiDQogICAgIHNvZGlwb2RpOnNpZGVzPSI1Ig0KICAgICBzb2RpcG9kaTpjeD0iMzkzLjQzNzI2Ig0KICAgICBzb2RpcG9kaTpjeT0iMjQwLjMzNjc5Ig0KICAgICBzb2RpcG9kaTpyMT0iMjEuNjMwNjA2Ig0KICAgICBzb2RpcG9kaTpyMj0iMTAuODE1MzAzIg0KICAgICBzb2RpcG9kaTphcmcxPSIxLjMwMDQ3MSINCiAgICAgc29kaXBvZGk6YXJnMj0iMS45Mjg3ODk1Ig0KICAgICBpbmtzY2FwZTpmbGF0c2lkZWQ9ImZhbHNlIg0KICAgICBpbmtzY2FwZTpyb3VuZGVkPSIwIg0KICAgICBpbmtzY2FwZTpyYW5kb21pemVkPSIwIg0KICAgICBkPSJtIDM5OS4yMTM2LDI2MS4xODE4NiAtOS41NjU5OCwtMTAuNzE1NDMgLTE0LjI1MDIyLDEuODA1NDcgNy4yMzQ5NCwtMTIuNDA5MDMgLTYuMTIwNjcsLTEyLjk5NDg0IDE0LjAzNzQxLDMuMDQ2MjMgMTAuNDY3NDQsLTkuODM2NzMgMS40NDA2NiwxNC4yOTE3MSAxMi41ODk5LDYuOTE1NCAtMTMuMTQ3MDMsNS43ODY1MyB6Ig0KICAgICBpbmtzY2FwZTp0cmFuc2Zvcm0tY2VudGVyLXg9Ii0xLjc4NDk4NTYiDQogICAgIGlua3NjYXBlOnRyYW5zZm9ybS1jZW50ZXIteT0iMC4yOTI5MDUzMSIgLz48cGF0aA0KICAgICBzb2RpcG9kaTp0eXBlPSJzdGFyIg0KICAgICBzdHlsZT0iZmlsbDojZmZlNjgwO3N0cm9rZTpub25lO3N0cm9rZS13aWR0aDowLjU1MjAwNztzdHJva2UtbGluZWNhcDpyb3VuZDtzdHJva2UtbGluZWpvaW46cm91bmQiDQogICAgIGlkPSJwYXRoMTAxMyINCiAgICAgc29kaXBvZGk6c2lkZXM9IjUiDQogICAgIHNvZGlwb2RpOmN4PSIzNjUuOTUzMzEiDQogICAgIHNvZGlwb2RpOmN5PSIxNzEuODA3OTEiDQogICAgIHNvZGlwb2RpOnIxPSIyNC40MTc2MzciDQogICAgIHNvZGlwb2RpOnIyPSIxMi4yMDg4MTgiDQogICAgIHNvZGlwb2RpOmFyZzE9IjAuNjI4Nzk2MjkiDQogICAgIHNvZGlwb2RpOmFyZzI9IjEuMjU3MTE0OCINCiAgICAgaW5rc2NhcGU6ZmxhdHNpZGVkPSJmYWxzZSINCiAgICAgaW5rc2NhcGU6cm91bmRlZD0iMCINCiAgICAgaW5rc2NhcGU6cmFuZG9taXplZD0iMCINCiAgICAgZD0ibSAzODUuNzAwNzMsMTg2LjE2OTY3IC0xNS45ODAyNCwtMi43NDg2OSAtMTEuMzIzNzQsMTEuNjA1ODcgLTIuMzI0MDEsLTE2LjA0NzUgLTE0LjUzNzA3LC03LjE4MzExIDE0LjU0MzkzLC03LjE2OTIxIDIuMzM5MzQsLTE2LjA0NTI4IDExLjMxMjY1LDExLjYxNjY4IDE1Ljk4Mjg2LC0yLjczMzQxIC03LjU1MjMyLDE0LjM0ODcyIHoiDQogICAgIGlua3NjYXBlOnRyYW5zZm9ybS1jZW50ZXIteD0iMi4zMjgyNTI2Ig0KICAgICBpbmtzY2FwZTp0cmFuc2Zvcm0tY2VudGVyLXk9Ii0wLjAwMzYwODA2NDYiIC8+PHBhdGgNCiAgICAgc29kaXBvZGk6dHlwZT0ic3RhciINCiAgICAgc3R5bGU9ImRpc3BsYXk6aW5saW5lO2ZpbGw6I2ZmZTY4MDtzdHJva2U6bm9uZTtzdHJva2Utd2lkdGg6MC40NDAxNDU7c3Ryb2tlLWxpbmVjYXA6cm91bmQ7c3Ryb2tlLWxpbmVqb2luOnJvdW5kIg0KICAgICBpZD0icGF0aDEwMTEtNiINCiAgICAgc29kaXBvZGk6c2lkZXM9IjUiDQogICAgIHNvZGlwb2RpOmN4PSIzNDQuNDIxNiINCiAgICAgc29kaXBvZGk6Y3k9IjIyNS40OTQ3NCINCiAgICAgc29kaXBvZGk6cjE9IjIwLjU0NzU1OCINCiAgICAgc29kaXBvZGk6cjI9IjEwLjI3Mzc3OSINCiAgICAgc29kaXBvZGk6YXJnMT0iMS4zMDA0NzEiDQogICAgIHNvZGlwb2RpOmFyZzI9IjEuOTI4Nzg5NSINCiAgICAgaW5rc2NhcGU6ZmxhdHNpZGVkPSJmYWxzZSINCiAgICAgaW5rc2NhcGU6cm91bmRlZD0iMCINCiAgICAgaW5rc2NhcGU6cmFuZG9taXplZD0iMCINCiAgICAgZD0ibSAzNDkuOTA4NzIsMjQ1LjI5NjA5IC05LjA4NywtMTAuMTc4OTEgLTEzLjUzNjcxLDEuNzE1MDcgNi44NzI2OCwtMTEuNzg3NzEgLTUuODE0MjEsLTEyLjM0NDE5IDEzLjMzNDU2LDIuODkzNzEgOS45NDMzMywtOS4zNDQyMSAxLjM2ODUzLDEzLjU3NjEzIDExLjk1OTUyLDYuNTY5MTUgLTEyLjQ4ODc2LDUuNDk2OCB6Ig0KICAgICBpbmtzY2FwZTp0cmFuc2Zvcm0tY2VudGVyLXg9Ii0xLjY5NTYxMDIiDQogICAgIGlua3NjYXBlOnRyYW5zZm9ybS1jZW50ZXIteT0iMC4yNzgyMjQwMyIgLz48L2c+DQo8dGl0bGUNCiAgIGlkPSJ0aXRsZTYiPmZlYXRoZXI8L3RpdGxlPg0KDQoNCg0KDQoNCg0KDQoNCg0KDQoNCg0KDQoNCg0KDQoNCg0KDQoNCg0KDQoNCg0KDQoNCg0KDQoNCg0KDQoNCg0KPC9zdmc+DQo=" align="right" width="120" />

<style type="text/css">
  code{white-space: pre-wrap;}
  span.smallcaps{font-variant: small-caps;}
  span.underline{text-decoration: underline;}
  div.column{display: inline-block; vertical-align: top; width: 50%;}
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  ul.task-list{list-style: none;}
    </style>


<style type="text/css">
  code {
    white-space: pre;
  }
  .sourceCode {
    overflow: visible;
  }
</style>
<style type="text/css" data-origin="pandoc">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */

</style>
<script>
// apply pandoc div.sourceCode style to pre.sourceCode instead
(function() {
  var sheets = document.styleSheets;
  for (var i = 0; i < sheets.length; i++) {
    if (sheets[i].ownerNode.dataset["origin"] !== "pandoc") continue;
    try { var rules = sheets[i].cssRules; } catch (e) { continue; }
    for (var j = 0; j < rules.length; j++) {
      var rule = rules[j];
      // check if there is a div.sourceCode rule
      if (rule.type !== rule.STYLE_RULE || rule.selectorText !== "div.sourceCode") continue;
      var style = rule.style.cssText;
      // check if color or background-color is set
      if (rule.style.color === '' && rule.style.backgroundColor === '') continue;
      // replace div.sourceCode by a pre.sourceCode rule
      sheets[i].deleteRule(j);
      sheets[i].insertRule('pre.sourceCode{' + style + '}', j);
    }
  }
})();
</script>




<link rel="stylesheet" href="data:text/css,body%20%7B%0Abackground%2Dcolor%3A%20%23fff%3B%0Amargin%3A%201em%20auto%3B%0Amax%2Dwidth%3A%20700px%3B%0Aoverflow%3A%20visible%3B%0Apadding%2Dleft%3A%202em%3B%0Apadding%2Dright%3A%202em%3B%0Afont%2Dfamily%3A%20%22Open%20Sans%22%2C%20%22Helvetica%20Neue%22%2C%20Helvetica%2C%20Arial%2C%20sans%2Dserif%3B%0Afont%2Dsize%3A%2014px%3B%0Aline%2Dheight%3A%201%2E35%3B%0A%7D%0A%23TOC%20%7B%0Aclear%3A%20both%3B%0Amargin%3A%200%200%2010px%2010px%3B%0Apadding%3A%204px%3B%0Awidth%3A%20400px%3B%0Aborder%3A%201px%20solid%20%23CCCCCC%3B%0Aborder%2Dradius%3A%205px%3B%0Abackground%2Dcolor%3A%20%23f6f6f6%3B%0Afont%2Dsize%3A%2013px%3B%0Aline%2Dheight%3A%201%2E3%3B%0A%7D%0A%23TOC%20%2Etoctitle%20%7B%0Afont%2Dweight%3A%20bold%3B%0Afont%2Dsize%3A%2015px%3B%0Amargin%2Dleft%3A%205px%3B%0A%7D%0A%23TOC%20ul%20%7B%0Apadding%2Dleft%3A%2040px%3B%0Amargin%2Dleft%3A%20%2D1%2E5em%3B%0Amargin%2Dtop%3A%205px%3B%0Amargin%2Dbottom%3A%205px%3B%0A%7D%0A%23TOC%20ul%20ul%20%7B%0Amargin%2Dleft%3A%20%2D2em%3B%0A%7D%0A%23TOC%20li%20%7B%0Aline%2Dheight%3A%2016px%3B%0A%7D%0Atable%20%7B%0Amargin%3A%201em%20auto%3B%0Aborder%2Dwidth%3A%201px%3B%0Aborder%2Dcolor%3A%20%23DDDDDD%3B%0Aborder%2Dstyle%3A%20outset%3B%0Aborder%2Dcollapse%3A%20collapse%3B%0A%7D%0Atable%20th%20%7B%0Aborder%2Dwidth%3A%202px%3B%0Apadding%3A%205px%3B%0Aborder%2Dstyle%3A%20inset%3B%0A%7D%0Atable%20td%20%7B%0Aborder%2Dwidth%3A%201px%3B%0Aborder%2Dstyle%3A%20inset%3B%0Aline%2Dheight%3A%2018px%3B%0Apadding%3A%205px%205px%3B%0A%7D%0Atable%2C%20table%20th%2C%20table%20td%20%7B%0Aborder%2Dleft%2Dstyle%3A%20none%3B%0Aborder%2Dright%2Dstyle%3A%20none%3B%0A%7D%0Atable%20thead%2C%20table%20tr%2Eeven%20%7B%0Abackground%2Dcolor%3A%20%23f7f7f7%3B%0A%7D%0Ap%20%7B%0Amargin%3A%200%2E5em%200%3B%0A%7D%0Ablockquote%20%7B%0Abackground%2Dcolor%3A%20%23f6f6f6%3B%0Apadding%3A%200%2E25em%200%2E75em%3B%0A%7D%0Ahr%20%7B%0Aborder%2Dstyle%3A%20solid%3B%0Aborder%3A%20none%3B%0Aborder%2Dtop%3A%201px%20solid%20%23777%3B%0Amargin%3A%2028px%200%3B%0A%7D%0Adl%20%7B%0Amargin%2Dleft%3A%200%3B%0A%7D%0Adl%20dd%20%7B%0Amargin%2Dbottom%3A%2013px%3B%0Amargin%2Dleft%3A%2013px%3B%0A%7D%0Adl%20dt%20%7B%0Afont%2Dweight%3A%20bold%3B%0A%7D%0Aul%20%7B%0Amargin%2Dtop%3A%200%3B%0A%7D%0Aul%20li%20%7B%0Alist%2Dstyle%3A%20circle%20outside%3B%0A%7D%0Aul%20ul%20%7B%0Amargin%2Dbottom%3A%200%3B%0A%7D%0Apre%2C%20code%20%7B%0Abackground%2Dcolor%3A%20%23f7f7f7%3B%0Aborder%2Dradius%3A%203px%3B%0Acolor%3A%20%23333%3B%0Awhite%2Dspace%3A%20pre%2Dwrap%3B%20%0A%7D%0Apre%20%7B%0Aborder%2Dradius%3A%203px%3B%0Amargin%3A%205px%200px%2010px%200px%3B%0Apadding%3A%2010px%3B%0A%7D%0Apre%3Anot%28%5Bclass%5D%29%20%7B%0Abackground%2Dcolor%3A%20%23f7f7f7%3B%0A%7D%0Acode%20%7B%0Afont%2Dfamily%3A%20Consolas%2C%20Monaco%2C%20%27Courier%20New%27%2C%20monospace%3B%0Afont%2Dsize%3A%2085%25%3B%0A%7D%0Ap%20%3E%20code%2C%20li%20%3E%20code%20%7B%0Apadding%3A%202px%200px%3B%0A%7D%0Adiv%2Efigure%20%7B%0Atext%2Dalign%3A%20center%3B%0A%7D%0Aimg%20%7B%0Abackground%2Dcolor%3A%20%23FFFFFF%3B%0Apadding%3A%202px%3B%0Aborder%3A%201px%20solid%20%23DDDDDD%3B%0Aborder%2Dradius%3A%203px%3B%0Aborder%3A%201px%20solid%20%23CCCCCC%3B%0Amargin%3A%200%205px%3B%0A%7D%0Ah1%20%7B%0Amargin%2Dtop%3A%200%3B%0Afont%2Dsize%3A%2035px%3B%0Aline%2Dheight%3A%2040px%3B%0A%7D%0Ah2%20%7B%0Aborder%2Dbottom%3A%204px%20solid%20%23f7f7f7%3B%0Apadding%2Dtop%3A%2010px%3B%0Apadding%2Dbottom%3A%202px%3B%0Afont%2Dsize%3A%20145%25%3B%0A%7D%0Ah3%20%7B%0Aborder%2Dbottom%3A%202px%20solid%20%23f7f7f7%3B%0Apadding%2Dtop%3A%2010px%3B%0Afont%2Dsize%3A%20120%25%3B%0A%7D%0Ah4%20%7B%0Aborder%2Dbottom%3A%201px%20solid%20%23f7f7f7%3B%0Amargin%2Dleft%3A%208px%3B%0Afont%2Dsize%3A%20105%25%3B%0A%7D%0Ah5%2C%20h6%20%7B%0Aborder%2Dbottom%3A%201px%20solid%20%23ccc%3B%0Afont%2Dsize%3A%20105%25%3B%0A%7D%0Aa%20%7B%0Acolor%3A%20%230033dd%3B%0Atext%2Ddecoration%3A%20none%3B%0A%7D%0Aa%3Ahover%20%7B%0Acolor%3A%20%236666ff%3B%20%7D%0Aa%3Avisited%20%7B%0Acolor%3A%20%23800080%3B%20%7D%0Aa%3Avisited%3Ahover%20%7B%0Acolor%3A%20%23BB00BB%3B%20%7D%0Aa%5Bhref%5E%3D%22http%3A%22%5D%20%7B%0Atext%2Ddecoration%3A%20underline%3B%20%7D%0Aa%5Bhref%5E%3D%22https%3A%22%5D%20%7B%0Atext%2Ddecoration%3A%20underline%3B%20%7D%0A%0Acode%20%3E%20span%2Ekw%20%7B%20color%3A%20%23555%3B%20font%2Dweight%3A%20bold%3B%20%7D%20%0Acode%20%3E%20span%2Edt%20%7B%20color%3A%20%23902000%3B%20%7D%20%0Acode%20%3E%20span%2Edv%20%7B%20color%3A%20%2340a070%3B%20%7D%20%0Acode%20%3E%20span%2Ebn%20%7B%20color%3A%20%23d14%3B%20%7D%20%0Acode%20%3E%20span%2Efl%20%7B%20color%3A%20%23d14%3B%20%7D%20%0Acode%20%3E%20span%2Ech%20%7B%20color%3A%20%23d14%3B%20%7D%20%0Acode%20%3E%20span%2Est%20%7B%20color%3A%20%23d14%3B%20%7D%20%0Acode%20%3E%20span%2Eco%20%7B%20color%3A%20%23888888%3B%20font%2Dstyle%3A%20italic%3B%20%7D%20%0Acode%20%3E%20span%2Eot%20%7B%20color%3A%20%23007020%3B%20%7D%20%0Acode%20%3E%20span%2Eal%20%7B%20color%3A%20%23ff0000%3B%20font%2Dweight%3A%20bold%3B%20%7D%20%0Acode%20%3E%20span%2Efu%20%7B%20color%3A%20%23900%3B%20font%2Dweight%3A%20bold%3B%20%7D%20%0Acode%20%3E%20span%2Eer%20%7B%20color%3A%20%23a61717%3B%20background%2Dcolor%3A%20%23e3d2d2%3B%20%7D%20%0A" type="text/css" />




</head>

<body>




<h1 class="title toc-ignore">Using familiar prospectively</h1>
<h4 class="author">Alex Zwanenburg</h4>
<h4 class="date">2022-02-02</h4>


<div id="TOC">
<ul>
<li><a href="#using-models-prospectively">Using models prospectively</a></li>
<li><a href="#using-ensembles-of-models-prospectively">Using ensembles of models prospectively</a></li>
<li><a href="#customising-exports-and-plots">Customising exports and plots</a>
<ul>
<li><a href="#exporting-collections">Exporting collections</a></li>
</ul></li>
</ul>
</div>

<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(familiar)</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(data.table)</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; data.table 1.14.2 using 12 threads (see ?getDTthreads).  Latest news: r-datatable.com</span></span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">19</span>)</span></code></pre></div>
<p>The <code>summon_familiar</code> function is used to generate models for a given dataset and provide a broad analysis afterwards. This creates a number of files. Many of the files resulting from this analysis can also be used outside of <code>summon_familiar</code>. For example, models and ensembles can be used prospectively to assess new datasets. Likewise, data and collection objects can be used to customise plotting and export to tables.</p>
<p>In this example we will use the <em>birthweight</em> dataset collected in 1986 at Baystate Medical Center, Springfield, Massachusetts. This dataset contains birth weight data from 189 newborn children, some of which have low birth weight (less then 2.5 kg). Potential risk factors were also collected. We will try to predict the low birth weight indicator using these risk factors.</p>
<p>We will first randomly split the data into development and validation datasets:</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Load the birth weight data set</span></span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a>data <span class="ot">&lt;-</span> data.table<span class="sc">::</span><span class="fu">as.data.table</span>(MASS<span class="sc">::</span>birthwt)</span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Add sample and batch identifiers.</span></span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a>data[,<span class="st">&quot;:=&quot;</span>(<span class="st">&quot;sample_id&quot;</span><span class="ot">=</span>.I)]</span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Generate training and validation samples</span></span>
<span id="cb2-8"><a href="#cb2-8" aria-hidden="true" tabindex="-1"></a>train_samples <span class="ot">&lt;-</span> <span class="fu">sample</span>(data<span class="sc">$</span>sample_id, <span class="at">size=</span><span class="dv">120</span>, <span class="at">replace=</span><span class="cn">FALSE</span>)</span>
<span id="cb2-9"><a href="#cb2-9" aria-hidden="true" tabindex="-1"></a>valid_samples <span class="ot">&lt;-</span> <span class="fu">setdiff</span>(data<span class="sc">$</span>sample_id, train_samples)</span>
<span id="cb2-10"><a href="#cb2-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-11"><a href="#cb2-11" aria-hidden="true" tabindex="-1"></a><span class="co"># Assign batch identifiers.</span></span>
<span id="cb2-12"><a href="#cb2-12" aria-hidden="true" tabindex="-1"></a>data[sample_id <span class="sc">%in%</span> train_samples, <span class="st">&quot;batch_id&quot;</span><span class="sc">:</span><span class="er">=</span><span class="st">&quot;development&quot;</span>]</span>
<span id="cb2-13"><a href="#cb2-13" aria-hidden="true" tabindex="-1"></a>data[sample_id <span class="sc">%in%</span> valid_samples, <span class="st">&quot;batch_id&quot;</span><span class="sc">:</span><span class="er">=</span><span class="st">&quot;validation&quot;</span>]</span></code></pre></div>
<p>Next we will prepare the dataset further. We drop the <code>bwt</code> column as this directly contains the indicator we are trying to predict. Other columns are encoded as categorical variables.</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Drop the bwt column.</span></span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>data[, <span class="st">&quot;bwt&quot;</span><span class="sc">:</span><span class="er">=</span><span class="cn">NULL</span>]</span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Encode the low outcome column: we ensure that &quot;low&quot; is now the so-called</span></span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a><span class="co"># positive class.</span></span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a>data<span class="sc">$</span>low <span class="ot">&lt;-</span> <span class="fu">factor</span>(data<span class="sc">$</span>low, <span class="at">levels=</span><span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">1</span>), <span class="at">labels=</span><span class="fu">c</span>(<span class="st">&quot;normal&quot;</span>, <span class="st">&quot;low&quot;</span>))</span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-8"><a href="#cb3-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Encode race. smoke, ht, and ui columns as categorical variables.</span></span>
<span id="cb3-9"><a href="#cb3-9" aria-hidden="true" tabindex="-1"></a>data<span class="sc">$</span>race <span class="ot">&lt;-</span> <span class="fu">factor</span>(data<span class="sc">$</span>race, <span class="at">levels=</span><span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>), <span class="at">labels=</span><span class="fu">c</span>(<span class="st">&quot;white&quot;</span>, <span class="st">&quot;black&quot;</span>, <span class="st">&quot;other&quot;</span>))</span>
<span id="cb3-10"><a href="#cb3-10" aria-hidden="true" tabindex="-1"></a>data<span class="sc">$</span>smoke <span class="ot">&lt;-</span> <span class="fu">factor</span>(data<span class="sc">$</span>smoke, <span class="at">levels=</span><span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">1</span>), <span class="at">labels=</span><span class="fu">c</span>(<span class="st">&quot;no&quot;</span>, <span class="st">&quot;yes&quot;</span>))</span>
<span id="cb3-11"><a href="#cb3-11" aria-hidden="true" tabindex="-1"></a>data<span class="sc">$</span>ht <span class="ot">&lt;-</span> <span class="fu">factor</span>(data<span class="sc">$</span>ht, <span class="at">levels=</span><span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">1</span>), <span class="at">labels=</span><span class="fu">c</span>(<span class="st">&quot;no&quot;</span>, <span class="st">&quot;yes&quot;</span>))</span>
<span id="cb3-12"><a href="#cb3-12" aria-hidden="true" tabindex="-1"></a>data<span class="sc">$</span>ui <span class="ot">&lt;-</span> <span class="fu">factor</span>(data<span class="sc">$</span>ui, <span class="at">levels=</span><span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">1</span>), <span class="at">labels=</span><span class="fu">c</span>(<span class="st">&quot;no&quot;</span>, <span class="st">&quot;yes&quot;</span>))</span>
<span id="cb3-13"><a href="#cb3-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-14"><a href="#cb3-14" aria-hidden="true" tabindex="-1"></a><span class="co"># Rename columns to make them clearer.</span></span>
<span id="cb3-15"><a href="#cb3-15" aria-hidden="true" tabindex="-1"></a>data.table<span class="sc">::</span><span class="fu">setnames</span>(data,</span>
<span id="cb3-16"><a href="#cb3-16" aria-hidden="true" tabindex="-1"></a>                     <span class="at">old=</span><span class="fu">c</span>(<span class="st">&quot;low&quot;</span>, <span class="st">&quot;age&quot;</span>, <span class="st">&quot;lwt&quot;</span>, <span class="st">&quot;race&quot;</span>, <span class="st">&quot;smoke&quot;</span>, <span class="st">&quot;ptl&quot;</span>, <span class="st">&quot;ht&quot;</span>, <span class="st">&quot;ui&quot;</span>, <span class="st">&quot;ftv&quot;</span>),</span>
<span id="cb3-17"><a href="#cb3-17" aria-hidden="true" tabindex="-1"></a>                     <span class="at">new=</span><span class="fu">c</span>(<span class="st">&quot;birth_weight&quot;</span>, <span class="st">&quot;age_mother&quot;</span>, <span class="st">&quot;weight_mother_before_pregnancy&quot;</span>,</span>
<span id="cb3-18"><a href="#cb3-18" aria-hidden="true" tabindex="-1"></a>                           <span class="st">&quot;ethnicity&quot;</span>, <span class="st">&quot;smoking_during_pregnancy&quot;</span>, <span class="st">&quot;previous_premature_labours&quot;</span>,</span>
<span id="cb3-19"><a href="#cb3-19" aria-hidden="true" tabindex="-1"></a>                           <span class="st">&quot;hypertension_history&quot;</span>, <span class="st">&quot;uterine_irritability&quot;</span>, <span class="st">&quot;physician_visits_first_trimester&quot;</span>))</span></code></pre></div>
<p>Then we call <code>summon_familiar</code> create models for the data and assess these. We will create an ensemble of five penalised logistic regression models to predict the low birth weight indicator, based on bootstraps of the development dataset. You may notice that we here write to the temporary R directory using the <code>tempdir()</code> function. In practice you will want to use a different directory, as the temporary R directory will be deleted once your R session closes. For speed, we will also only compute point estimates during evaluation (see the <em>evaluation and explanation</em> vignette for other options).</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a>familiar<span class="sc">::</span><span class="fu">summon_familiar</span>(<span class="at">data=</span>data,</span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a>                          <span class="at">project_dir=</span><span class="fu">tempdir</span>(),</span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a>                          <span class="at">sample_id_column=</span><span class="st">&quot;sample_id&quot;</span>,</span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a>                          <span class="at">batch_id_column=</span><span class="st">&quot;batch_id&quot;</span>,</span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a>                          <span class="at">development_batch_id=</span><span class="st">&quot;development&quot;</span>,</span>
<span id="cb4-6"><a href="#cb4-6" aria-hidden="true" tabindex="-1"></a>                          <span class="at">outcome_type=</span><span class="st">&quot;binomial&quot;</span>,</span>
<span id="cb4-7"><a href="#cb4-7" aria-hidden="true" tabindex="-1"></a>                          <span class="at">outcome_column=</span><span class="st">&quot;birth_weight&quot;</span>,</span>
<span id="cb4-8"><a href="#cb4-8" aria-hidden="true" tabindex="-1"></a>                          <span class="at">experimental_design=</span><span class="st">&quot;bs(fs+mb,5) + ev&quot;</span>,</span>
<span id="cb4-9"><a href="#cb4-9" aria-hidden="true" tabindex="-1"></a>                          <span class="at">cluster_method=</span><span class="st">&quot;none&quot;</span>,</span>
<span id="cb4-10"><a href="#cb4-10" aria-hidden="true" tabindex="-1"></a>                          <span class="at">fs_method=</span><span class="st">&quot;none&quot;</span>,</span>
<span id="cb4-11"><a href="#cb4-11" aria-hidden="true" tabindex="-1"></a>                          <span class="at">learner=</span><span class="st">&quot;lasso&quot;</span>,</span>
<span id="cb4-12"><a href="#cb4-12" aria-hidden="true" tabindex="-1"></a>                          <span class="at">parallel=</span><span class="cn">FALSE</span>,</span>
<span id="cb4-13"><a href="#cb4-13" aria-hidden="true" tabindex="-1"></a>                          <span class="at">estimation_type=</span><span class="st">&quot;point&quot;</span>)</span></code></pre></div>
<div id="using-models-prospectively" class="section level1">
<h1>Using models prospectively</h1>
<p>Models generated by familiar are stored in subdirectories of the <code>trained_models</code> folder:</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Create path to the directory containing the models.</span></span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>model_directory_path <span class="ot">&lt;-</span> <span class="fu">file.path</span>(<span class="fu">tempdir</span>(), <span class="st">&quot;trained_models&quot;</span>, <span class="st">&quot;lasso&quot;</span>, <span class="st">&quot;none&quot;</span>)</span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a><span class="co"># List files present in the directory.</span></span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a><span class="fu">list.files</span>(model_directory_path)</span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [1] &quot;20220202154621_hyperparameters_lasso_none_2_1.RDS&quot; &quot;20220202154621_hyperparameters_lasso_none_2_2.RDS&quot; &quot;20220202154621_hyperparameters_lasso_none_2_3.RDS&quot;</span></span>
<span id="cb5-7"><a href="#cb5-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [4] &quot;20220202154621_hyperparameters_lasso_none_2_4.RDS&quot; &quot;20220202154621_hyperparameters_lasso_none_2_5.RDS&quot; &quot;20220202154621_lasso_none_1_1_ensemble.RDS&quot;       </span></span>
<span id="cb5-8"><a href="#cb5-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [7] &quot;20220202154621_lasso_none_2_1_model.RDS&quot;           &quot;20220202154621_lasso_none_2_2_model.RDS&quot;           &quot;20220202154621_lasso_none_2_3_model.RDS&quot;          </span></span>
<span id="cb5-9"><a href="#cb5-9" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [10] &quot;20220202154621_lasso_none_2_4_model.RDS&quot;           &quot;20220202154621_lasso_none_2_5_model.RDS&quot;</span></span></code></pre></div>
<p>There are 5 models in the directory, which are stored in RDS format in files ending with <code>*_model.RDS</code>. We can inspect the first model in the directory.</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Create path to the model.</span></span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a>model_path <span class="ot">&lt;-</span> <span class="fu">file.path</span>(model_directory_path, <span class="fu">list.files</span>(model_directory_path, <span class="at">pattern=</span><span class="st">&quot;model&quot;</span>)[<span class="dv">1</span>])</span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Load the model.</span></span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true" tabindex="-1"></a>model <span class="ot">&lt;-</span> <span class="fu">readRDS</span>(model_path)</span>
<span id="cb6-6"><a href="#cb6-6" aria-hidden="true" tabindex="-1"></a>model</span>
<span id="cb6-7"><a href="#cb6-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; A lasso model (class: familiarGLMnetLasso; v1.0.0) trained using glmnet (v4.1.3) package.</span></span>
<span id="cb6-8"><a href="#cb6-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb6-9"><a href="#cb6-9" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; --------------- Model details ---------------</span></span>
<span id="cb6-10"><a href="#cb6-10" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb6-11"><a href="#cb6-11" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; ---------------------------------------------</span></span>
<span id="cb6-12"><a href="#cb6-12" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb6-13"><a href="#cb6-13" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; The following outcome was modelled:</span></span>
<span id="cb6-14"><a href="#cb6-14" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; birth_weight (binomial), with classes: normal (reference) and low.</span></span>
<span id="cb6-15"><a href="#cb6-15" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb6-16"><a href="#cb6-16" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; The model was trained using the following hyperparameters:</span></span>
<span id="cb6-17"><a href="#cb6-17" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   sign_size: 8</span></span>
<span id="cb6-18"><a href="#cb6-18" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   family: binomial</span></span>
<span id="cb6-19"><a href="#cb6-19" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   lambda_min: lambda.min</span></span>
<span id="cb6-20"><a href="#cb6-20" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   n_folds: 7</span></span>
<span id="cb6-21"><a href="#cb6-21" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   normalise: FALSE</span></span>
<span id="cb6-22"><a href="#cb6-22" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb6-23"><a href="#cb6-23" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Variable importance was determined using the none variable importance method.</span></span>
<span id="cb6-24"><a href="#cb6-24" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb6-25"><a href="#cb6-25" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; The following features were used in the model:</span></span>
<span id="cb6-26"><a href="#cb6-26" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; previous_premature_labours (numeric).</span></span>
<span id="cb6-27"><a href="#cb6-27" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; ethnicity (categorical), with levels: white (reference), black and other.</span></span>
<span id="cb6-28"><a href="#cb6-28" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; age_mother (numeric):</span></span>
<span id="cb6-29"><a href="#cb6-29" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   transformation (yeo_johnson) with &lt;U+03BB&gt; = -0.8.</span></span>
<span id="cb6-30"><a href="#cb6-30" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   normalisation (standardisation) with shift = 1.15040432726622 and scale = 0.0170214246457444.</span></span>
<span id="cb6-31"><a href="#cb6-31" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; smoking_during_pregnancy (categorical), with levels: no (reference) and yes.</span></span>
<span id="cb6-32"><a href="#cb6-32" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; hypertension_history (categorical), with levels: no (reference) and yes.</span></span>
<span id="cb6-33"><a href="#cb6-33" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; physician_visits_first_trimester (numeric):</span></span>
<span id="cb6-34"><a href="#cb6-34" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   transformation (yeo_johnson) with &lt;U+03BB&gt; = -0.8.</span></span>
<span id="cb6-35"><a href="#cb6-35" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   normalisation (standardisation) with shift = 0.313192082386248 and scale = 0.324948104478325.</span></span>
<span id="cb6-36"><a href="#cb6-36" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; uterine_irritability (categorical), with levels: no (reference) and yes.</span></span>
<span id="cb6-37"><a href="#cb6-37" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; weight_mother_before_pregnancy (numeric):</span></span>
<span id="cb6-38"><a href="#cb6-38" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   transformation (yeo_johnson) with &lt;U+03BB&gt; = -1.2.</span></span>
<span id="cb6-39"><a href="#cb6-39" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   normalisation (standardisation) with shift = 0.830774795606794 and scale = 0.00055659494321713.</span></span>
<span id="cb6-40"><a href="#cb6-40" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb6-41"><a href="#cb6-41" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; A novelty detector was trained using the model features.</span></span></code></pre></div>
<p>This model can then be used to predict values for a given dataset, among other things. The <code>predict</code> method used by familiar is in many ways similar to other <code>predict</code> methods. However, familiar requires that the <code>newdata</code> argument is set. It does not store development data with its models to limit model size and prevent leaking sensitive information. Predictions can be made as follows:</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="fu">predict</span>(<span class="at">object=</span>model, <span class="at">newdata=</span>data)</span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;      predicted_class_probability_normal predicted_class_probability_low predicted_class</span></span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   1:                          0.7122447                       0.2877553          normal</span></span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   2:                          0.8956530                       0.1043470          normal</span></span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   3:                          0.5409493                       0.4590507          normal</span></span>
<span id="cb7-6"><a href="#cb7-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   4:                          0.5845650                       0.4154350          normal</span></span>
<span id="cb7-7"><a href="#cb7-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   5:                          0.4315097                       0.5684903             low</span></span>
<span id="cb7-8"><a href="#cb7-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  ---                                                                                   </span></span>
<span id="cb7-9"><a href="#cb7-9" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 185:                          0.6904806                       0.3095194          normal</span></span>
<span id="cb7-10"><a href="#cb7-10" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 186:                          0.6422795                       0.3577205          normal</span></span>
<span id="cb7-11"><a href="#cb7-11" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 187:                          0.5423427                       0.4576573          normal</span></span>
<span id="cb7-12"><a href="#cb7-12" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 188:                          0.6650174                       0.3349826          normal</span></span>
<span id="cb7-13"><a href="#cb7-13" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 189:                          0.5961457                       0.4038543          normal</span></span></code></pre></div>
<p>In addition to default predictions, familiar allows for several different types of prediction by setting the <code>type</code> argument. These are:</p>
<ul>
<li><p><code>&quot;novelty&quot;</code>: Infers the novelty of an instance using the novelty detector trained with each model. This can be used to detect out-of-distribution samples for which the model has to extrapolate.</p></li>
<li><p><code>&quot;survival_probability&quot;</code>: Predict the probability of surviving until the time specified by <code>time</code>. This is only possible for some survival models where the predicted values can be transformed to survival probabilities.</p></li>
<li><p><code>&quot;risk_stratification&quot;</code>: Predict the risk group to which an instance is assigned. This is only possible for survival models. By default, stratification takes place using threshold values established during model development. You can manually specify one or more threshold values by setting the <code>stratification_threshold</code> argument.</p></li>
</ul>
<p>For example, we can predict novelty of the samples as follows:</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="fu">predict</span>(<span class="at">object=</span>model, <span class="at">newdata=</span>data, <span class="at">type=</span><span class="st">&quot;novelty&quot;</span>)</span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;        novelty</span></span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   1: 0.5420633</span></span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   2: 0.4969601</span></span>
<span id="cb8-5"><a href="#cb8-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   3: 0.4422806</span></span>
<span id="cb8-6"><a href="#cb8-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   4: 0.4994262</span></span>
<span id="cb8-7"><a href="#cb8-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   5: 0.4992087</span></span>
<span id="cb8-8"><a href="#cb8-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  ---          </span></span>
<span id="cb8-9"><a href="#cb8-9" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 185: 0.4907625</span></span>
<span id="cb8-10"><a href="#cb8-10" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 186: 0.5464158</span></span>
<span id="cb8-11"><a href="#cb8-11" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 187: 0.4582248</span></span>
<span id="cb8-12"><a href="#cb8-12" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 188: 0.5200768</span></span>
<span id="cb8-13"><a href="#cb8-13" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 189: 0.5308161</span></span></code></pre></div>
<p>More powerful however, is the ability to perform any of the evaluation and explanation steps for a new dataset, including new settings. By default, all evaluation and explanation steps are conducted using the settings defined when running <code>summon_familiar</code>. In this case that means that point estimates will be computed.</p>
<p>Let us for example compute and plot model performance AUC-ROC and accuracy for the model.</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a>plots <span class="ot">&lt;-</span> familiar<span class="sc">::</span><span class="fu">plot_model_performance</span>(<span class="at">object=</span>model,</span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a>                                          <span class="at">draw=</span><span class="cn">TRUE</span>,</span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a>                                          <span class="at">facet_by=</span><span class="st">&quot;metric&quot;</span>,</span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a>                                          <span class="at">data=</span>data[batch_id<span class="sc">==</span><span class="st">&quot;validation&quot;</span>],</span>
<span id="cb9-5"><a href="#cb9-5" aria-hidden="true" tabindex="-1"></a>                                          <span class="at">metric=</span><span class="fu">c</span>(<span class="st">&quot;auc&quot;</span>, <span class="st">&quot;accuracy&quot;</span>))</span>
<span id="cb9-6"><a href="#cb9-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Warning in (new(&quot;standardGeneric&quot;, .Data = function (object, draw = FALSE, : Creating a violinplot requires bias-corrected estimates or bootstrap confidence interval estimates instead</span></span>
<span id="cb9-7"><a href="#cb9-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; of point estimates.</span></span></code></pre></div>
<p>You may notice that no plot is produced. This is because the type of plot <code>violin_plot</code> and the <code>estimation_type</code> inherited from the model are incompatible. However, nothing prevents us from changing the estimation type to bootstrap confidence intervals <code>bci</code>.</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Draw model performance plots with bootstrap confidence intervals.</span></span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a><span class="co"># familiar_data_names argument specifies the name that appears below the plot.</span></span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a><span class="co"># The default is rather long.</span></span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a>plots <span class="ot">&lt;-</span> familiar<span class="sc">::</span><span class="fu">plot_model_performance</span>(<span class="at">object=</span>model,</span>
<span id="cb10-5"><a href="#cb10-5" aria-hidden="true" tabindex="-1"></a>                                          <span class="at">draw=</span><span class="cn">TRUE</span>,</span>
<span id="cb10-6"><a href="#cb10-6" aria-hidden="true" tabindex="-1"></a>                                          <span class="at">facet_by=</span><span class="st">&quot;metric&quot;</span>,</span>
<span id="cb10-7"><a href="#cb10-7" aria-hidden="true" tabindex="-1"></a>                                          <span class="at">data=</span>data[batch_id<span class="sc">==</span><span class="st">&quot;validation&quot;</span>],</span>
<span id="cb10-8"><a href="#cb10-8" aria-hidden="true" tabindex="-1"></a>                                          <span class="at">estimation_type=</span><span class="st">&quot;bci&quot;</span>,</span>
<span id="cb10-9"><a href="#cb10-9" aria-hidden="true" tabindex="-1"></a>                                          <span class="at">metric=</span><span class="fu">c</span>(<span class="st">&quot;auc&quot;</span>, <span class="st">&quot;accuracy&quot;</span>),</span>
<span id="cb10-10"><a href="#cb10-10" aria-hidden="true" tabindex="-1"></a>                                          <span class="at">familiar_data_names=</span><span class="st">&quot;lasso&quot;</span>)</span></code></pre></div>
<p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAfgAAAH4CAMAAACR9g9NAAABaFBMVEUAAAAAADoAAGYAOjoAOmYAOpAAZrYuLlIuLnMuUlIuUnMuUpEuc68zMzM6AAA6ADo6OgA6Ojo6OmY6Zjo6ZmY6ZpA6ZrY6kLY6kNtSLlJSUlJSUpFSc5FSc69SkcxmAABmADpmAGZmOgBmOjpmOmZmOpBmZjpmZmZmZpBmZrZmkLZmkNtmtttmtv9zUi5zUlJzUnNzka9zr8yQOgCQOjqQOmaQZjqQZmaQZpCQkDqQkGaQttuQtv+Q27aQ2/+RUi6RUlKRcy6Rc1KRkVKRkXORr3ORzMyvcy6vc1KvkVKvkXOvkZGvka+vr3Ovr6+vr8yvzK+vzMy2ZgC2Zjq2Zma2ZpC2kGa2tra2ttu225C229u22/+2/9u2///MkVLMr3PMzJHMzK/MzMzbkDrbkGbbkJDbtmbbtpDbtrbb25Db27bb29vb2//b/7bb/9vb////tmb/tpD/25D/27b/29v//7b//9v///8AOW/3AAAACXBIWXMAAAsSAAALEgHS3X78AAAQYklEQVR4nO2di2PbVhXGlbB2MEi3Zq/AGAHaNetcM9auSemGGRuPAeOVhAAL7miTlteovYRI/z5XsuPFsR3L0r3nHN3v+7WWFSn2Pef+fK8s6UpJMgJJoh0A0WGe+H6y1MmOrrjJKSfr7cHM0fOdKS9I7yRr3qIjwZgv3nk8SMqLn76UWGOu+KUXLj29c9WJ30mSV3rpZvLilXa6kyy1hor7Sy8ml3qDJf3khaUX3Iek+FX3w/KP3MqXN9364+8nycu9/vKN5Jmu+xzl71S8gmgxX/z9pR9/9/5Sp7+8f7y+drC8f3SlfbDcPV5vn4pvn+TL8yX9pJ1/HAa/mv9w4F6XtN0ril/suP9u3k1drzF4hUCGZCrzxf94/eqlJ0udg0u9bPuymzpp24ljbSh+ueuWD5b08+8Dzw9/Nf/B2R3ITveuJfmHp5srd6uzbPAKgQzJVOaL72wnucSxFv/Mfna6NXctOm/xxZKh+GGLPyt++5lPn5yKd0vSO8NXEC1KiHdq+2e28V9x7Xcz32KfdvU38m18sWQofvCrY+K/uJK85Dr5Qnx2eMX97uAVEimSadTej8+7etI8KB4UHrkDheJBoXhQKB6UeeIfoYCV7SOKPwUrW4ofgZUtxY/AypbiR2BlS/EjsLK1Iv7h79zj94NHwR9Hi6RQEZ8nWTwLJjrAhvgHX//Zc7967qPXHrjHx7cf/vCnX3vndNEHt//+mkgMGuLzJD90+eaJChdtQ/zD33z41bd/8ejRB+6Ri//w9mjRZ68/+I5IDBri8yRz8XmiwtgQ/5N3/uCSf/jJB+4xFH+6SKxWNMTnSQ7EP/xEuGgb4j/+9tvP/vybP3j9M/d48Oy3XCsYLXr0y2+IhKAiPk/yI5fvb/NEZbEh/iI+vi1Tjo1sxTAv/tdSTcFEtnLMFc+zd5FC8aBQPCgUDwrFg0LxoFA8KBQPCsWDQvGgUDwoFA8KxYNC8aBQPCgUDwrFg0LxoFA8KOfF/qmbZene6n7+mLaeRMK42HRz1Yk/bKf39tyjlyUJxUfKOfG9XSd+p5Pt3nCP7sR6Eg3nxea23WN3o0vxUTNN/GEn3brvHhQfMZPi+63j65vFY9p6EgncnQOF4kGheFAoHhSKB4XiQaF4UCgeFIoHheJBoXhQKB4UigeF4kGheFAoHhSKB4XiQaF4UCgeFIoHheJBoXhQKB4UigeF4kGheFAoHhSKB4XiQaF4UCgeFIoHheJBoXhQKB4UigeF4kGheFAoHhSKB4XiQaF4UCgeFIoHheJBoXhQKB4UigeF4kGheFAoHhSKB4XiQaF4UCgeFIoHheJBoXhQKB4UigeF4kGheFAoHhSKB8Wg+BWHfKloWBRf/CdhoXhQKB4Uo+JpPjQ2xbPJB4fiQaF4UCgeFIoHheJBoXhQ7IlfoXgJDIofTUhAKB4UigeF4nVZWVEafmBO/KAWYM7SqH3M7Ykfe4oeij+F4mWwJn7Ux4OYV9uwmRM/msEwv3JmKoox8StTZyOG4gvONnOMJk/xOeOuIcxTfM65/AHM6+3DWBI/kT7Fh8OQ+CkNPHrzFD+9Y4++s7ciPt1b3c+yw42NNz/d2nirN7E+INMdx27+VLx8muNiD9vpvVz30c2jVrE2kRM/Y3Hc5vWOU46L3elku13X8Le6/dVrtybXh2NlJkIBqKB4gHpcrLOei++3suNeMScl/gK/MZtfmZgR41xX33GNvWj4j/fzqZT4C9t1xOYVz0yMiz2+vtnqt9K73exodfPVyfWBuDjtiHv7lSlzQljYnZtnNlrzmqekDIif7zVW85qnpPTFl0k5TvNjWcGJL+c0SvMrM38QQFt8WaMRmj+XknCCyuIXyDY69edPQsuWrip+MZeRmZ9IRzY9TfELm4xK/eToA9Hs1MRXOgof0aF77dEHSuKrG4xF/bQ0JFNTEV+v4UahXn30gYL4+v1189XPyCBi8Z7OsDd8Yz8resGsZMV79NVo9bOHnYglJSned1qNVX9B3BGKD/FpbqZ6E8NOpMSH6sQa2OPPiVgoHxnxIe00zbyRYScS4kOn0iz1RoadhBcvkUeD1FsZdhJavJSSpqgvN+wkdBRZcPGCPhqhvmSQArkEFS/rogHmS4fYaPHyIqzv2y0QXvBEgonXcWDa/ELBhU4kkHg9AXbVLxhZ4ESCiNftco2qXziqxonX39LqRzBJpYFm/sMY4V28jTo3p75SOCGT8CzeTn2bUl81loA5eBVvqa4tqa8RSLAc/Im3U88jjIRUK4hQKfgSb6OKJ9GPq24EgTLwI16/emejHJuH4oMk4EO8kR51JprheRpT7OFNzlFfvHXtmWaInsoNEH9t8fa15zT9zIH/+OuKb4b3TPzy86JIn2X6jr+m+MZ4VwjV9lUE9cQ3R3smHqz34vyaryW+Qe09RzLaEFXj9T3rifcYiACC4Ya6fMTfW1F8iIKCleTvnSk+QDkhC/L13tzGey+lGdcN1fxW3yi8VNg8mnLdEPfj/ZbRmF6FR+58ltGg64Z4rL5RZZwtrV5xPs7O1QpAhPAxSnXy42XWeLGf8/E1AhBAQnvoEryXyxE4PkrQS79y0fGPuQsdmHbmFcv3NspW82M/m+i1D2KoEITHcfXm1Mff2k+pEIfnCyqMVEQBjPachas+4kuoml7AgiwYDy+arFpA2PevwkJJB7lMevHXeAZRe84CcYW4MYJ2tYTXbtR7tkDuYW6FoloxqM19SMnoeA8cY+9fn3IRRnbXK3rPKRNjuPvcaVQR3D7cDEqEGdkNDkMXEPj9vaEqXvzbL9v7l8wNNexNjCVrKt6z7pXQFS9YVwIlNcn73GiD/6ECodqi9/Noi49nnCPFew7BQwEiTih+8RjC1pnU1kSmGF9YEB/UvNj3x0Z9qTciPmCtSe4wyhXlASPiA5kXbYWNEq+8H38G8zcHKVGcaGn1sCPevyaF+1g1h3m5SP/9eKtvZrTEyhgTb/pej2UKVSizEtZafOZNmNI9SjUKrYLuadnplNj+lHgPD4E0qNyFsSi+fvVpXpyqVvJi2BRfU51ms6P4mlSXp9vbUnxdKm7pfXxBqENk4vvJ5YO1C9YHoYpC9S9X2uWXpZz4kzf+ezO92525PhQL16K69wjFn3xPXvyiIg3UuoEQSlG6q0+S9gXrg7GIef3mnkUnvsb6upSuSRPemyK+5JU0J+uuxS8rdPU5JavShvfGiJ//K6diT25evD4cpZQa8W4mjjksIF7jW/2QEpVpp7rtRHIBZa+WLbr6y7PXh2aueUu13YA2XyrEcbHp3uq+m25tvPW0mJMRP0+srao2b75cfMmgvQ+/3B2203u97Kh1OueWhw1yyIWxWqtp7cPGF1M2uHGxO51st5v1V6/dGswJtfgLzRusZoMhDSkfWSF2+7TFO9fu/3Ev293oyoqfGbDNSrYaVfmwhods3b+emzvspFvd7PF+trNRzImJn93kTdZwZlH9YhENxD+9+7did+74+mar3zpa3Xw1nztdL8KMqO3V7whT2/qFgynEHqwdaO7OFcwI3FDdTsGI+yphDPbjZ5yhyQTFT1dso2IvQj/CahEMxG7POlSvLl6s+OqUuW4lZOHVXjg6Vq9xPn6MqRk0QXyO0jD/GsXaafFTJTdFvMLmvmaBdrbx0y9JlCu+PpLh1i5KeyDGGaak0ijvOTLufZRC8b5pyP01Kd4/IZu9t/em+CAEUu/xbSk+EP7V++1ILImfzKvB4r2r91wXhsRPptasvblJfN7/w3dV2BYvWHgYPGUQoAVQfFh8KAuyl2BJ/HnRTe/pC+onEaYaTIuXLDsYRm/8Ykv8eI5xiK+pLlS3Z0r8uOpYvNfKJNjmzpj4lenzTadyKuEqwZb4szUUkffq/sJVgjXxDT0VP4+KyQSsBGPio6WawYAffoqXoZLCkL0exctQyWHIrR3FC1FBYtCvORQvRBXx/qP4EooXokLzpfgoWFhj2B1aipdiYY9hD2RQvBgUD8qCIgMfuaR4ORZTSfHRsNBWPvSpCooXZAGZwc9RUbwgC9gMfm6S4iUpbT78OWmKF6WkeYGxCBQvS7mbtAcPg+LFKSFVZOwRxUvj4W+/+4DixZkjVmisIcXLc6F5qTGmFK/ABebFxhZTvAazzAuOKad4HdTv3EvxOkxzLHoNCcVroXzjF4rX4rxn4WvGKF4N3bsBULweY+alrxGleEU0LwqneE1GuuUvCqd4VYa+FW4GQPGqrIw9SULxuhTKNe7+QfG6rIwmwlC8LkVjp3hAVpRu7Ebxyqwo3diN4pWheFBcP0/xkFA8KBQPCsWDQvGgUDwoFA8KxYNC8aBQPCgUjwkP2YLCkzSgUDwoFA8KxYNC8aBQPCgUDwrFg0LxoFA8KFp/N5viQaF4UCgeFIoHheJBoXhQKB4UigeF4kGheFDGxaZ7q/tuuvnS++nWxlu9ifUkGsbFHrbTe73soJPe/WurWJtQfKSMi93pZLtd93zyxpPVa7cm15NoGBfrrOfi03c7x73BR4DiI+VcV99Jt7rZyfX97PF+3vwpPlrGxR5f32z1Wzsvbbz5r9XNVyfXk2jg7hwoFA8KxYNC8aBQPCgUDwrFg0LxoFA8KBQPCsWDQvGgUDwoFA8KxYNC8aBQPCgUDwrFg0LxoFA8KBQPCsWDQvGgUDwoFA8KxYNC8aBQPCgUDwrFg0LxoFA8KBQPCsWDQvGgUDwoFA8KxYNC8aBQPCgUDwrFg0LxoFA8KBQPCsWDQvGgUDwoFA8KxYNC8aBQPCgUDwrFg0LxoFA8KBQPCsWDQvGgUDwoFA8KxYNC8aBQPCgUDwrFg0LxoFA8KBQPCsWDQvGgUDwoFA8KxYNC8aBQPCgUDwrFg0LxoFA8KBQPCsWDQvGgUDwoFA8KxYNC8aBQPCgUDwrFg0LxoFA8KBQPyrjYdG91fzAdzFF8tIyLPWyn93rFdK+YSxKKj5RxsTudbLdbTG8Uc2zx0TIu1rke/t/oUnzUnOvqO+lWt5jeL+YoPlrGxR5f32z1W/k0f0yuJ9HA3TlQKB4UigeF4kGheFAoHhSKB4XiQaF4UCgeFIoHheJBoXhQKB4UigdlrngYsLK1OZjSZFDB0MkWq47JCIvi0552BJIoZWtPfPruxo1XtIMQQy1be+KP3s+yw652FFKoZWtQ/M3eYGQ3BGrZ2hOf/ePaakc7Bjm0sjUo/p9Pd9/TjkEOrWztiT9qPbn1GKer18rWoPj3djpA4rWytSc+O7z1xS3tGOTQytageG7jJbAnntt4EQyK5zZeAnviuY0XwZ749N2rV5dhWrxatvbEH71/iNTVa2VrUHyr3z6EOWarlq098fkOTks7Bjm0sjUnPv2P43PtKKTQy9ac+H//2fEXlDE4etmaE09koHhQKB4UigeF4kEBF3/QHjz/b+KL9eSSuKD4nJM3zmueXBIZyOJP1pOr7aMryVLnILlcPLsly103udRzS7TDCwuyeNfct9uuSz9ou/ZdPLsl6edu0l9ji4+YnY5znd5Jklz84HndNfvtJEkuU3zEFC3e2d/OxRfPbmF/rdjuU3zEFNv4fpJsrKV3LhfPB8lgG5/kS7TDCwuyeGgoHpT/AyGc80272Q67AAAAAElFTkSuQmCC" title="plot of chunk prospective-model-performance-plot" alt="plot of chunk prospective-model-performance-plot" style="display: block; margin: auto;" /></p>
<p>Note that we can achieve the same result without explicitly importing the model. Providing the path to the model as the <code>object</code> argument suffices:</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a>plots <span class="ot">&lt;-</span> familiar<span class="sc">::</span><span class="fu">plot_model_performance</span>(<span class="at">object=</span>model_path,</span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a>                                          <span class="at">draw=</span><span class="cn">TRUE</span>,</span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a>                                          <span class="at">facet_by=</span><span class="st">&quot;metric&quot;</span>,</span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a>                                          <span class="at">data=</span>data[batch_id<span class="sc">==</span><span class="st">&quot;validation&quot;</span>],</span>
<span id="cb11-5"><a href="#cb11-5" aria-hidden="true" tabindex="-1"></a>                                          <span class="at">estimation_type=</span><span class="st">&quot;bci&quot;</span>,</span>
<span id="cb11-6"><a href="#cb11-6" aria-hidden="true" tabindex="-1"></a>                                          <span class="at">metric=</span><span class="fu">c</span>(<span class="st">&quot;auc&quot;</span>, <span class="st">&quot;accuracy&quot;</span>),</span>
<span id="cb11-7"><a href="#cb11-7" aria-hidden="true" tabindex="-1"></a>                                          <span class="at">familiar_data_names=</span><span class="st">&quot;lasso&quot;</span>)</span></code></pre></div>
<p><img src="data:image/png;base64,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" title="plot of chunk prospective-model-performance-plot-implicit" alt="plot of chunk prospective-model-performance-plot-implicit" style="display: block; margin: auto;" /></p>
</div>
<div id="using-ensembles-of-models-prospectively" class="section level1">
<h1>Using ensembles of models prospectively</h1>
<p>The five models created in the example form an ensemble. Instead of investigating the models separately, we can also evaluate the model ensemble. Model ensembles generated by familiar are stored in the same subdirectory of the <code>trained_models</code> folder as their constituent models:</p>
<div class="sourceCode" id="cb12"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="co"># List files present in the directory.</span></span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a><span class="fu">list.files</span>(model_directory_path)</span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [1] &quot;20220202154621_hyperparameters_lasso_none_2_1.RDS&quot; &quot;20220202154621_hyperparameters_lasso_none_2_2.RDS&quot; &quot;20220202154621_hyperparameters_lasso_none_2_3.RDS&quot;</span></span>
<span id="cb12-4"><a href="#cb12-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [4] &quot;20220202154621_hyperparameters_lasso_none_2_4.RDS&quot; &quot;20220202154621_hyperparameters_lasso_none_2_5.RDS&quot; &quot;20220202154621_lasso_none_1_1_ensemble.RDS&quot;       </span></span>
<span id="cb12-5"><a href="#cb12-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [7] &quot;20220202154621_lasso_none_2_1_model.RDS&quot;           &quot;20220202154621_lasso_none_2_2_model.RDS&quot;           &quot;20220202154621_lasso_none_2_3_model.RDS&quot;          </span></span>
<span id="cb12-6"><a href="#cb12-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [10] &quot;20220202154621_lasso_none_2_4_model.RDS&quot;           &quot;20220202154621_lasso_none_2_5_model.RDS&quot;</span></span></code></pre></div>
<p>In this case there is only one ensemble in the directory, which is stored in RDS format in a file ending with <code>*_ensemble.RDS</code>. Some alternative experiment designs, e.g.ones involving cross-validation, can lead to multiple ensembles being formed. We can inspect the ensemble in the directory.</p>
<div class="sourceCode" id="cb13"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Create path to the model.</span></span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a>ensemble_path <span class="ot">&lt;-</span> <span class="fu">file.path</span>(model_directory_path, <span class="fu">list.files</span>(model_directory_path, <span class="at">pattern=</span><span class="st">&quot;ensemble&quot;</span>)[<span class="dv">1</span>])</span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-4"><a href="#cb13-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Load the model.</span></span>
<span id="cb13-5"><a href="#cb13-5" aria-hidden="true" tabindex="-1"></a>ensemble <span class="ot">&lt;-</span> <span class="fu">readRDS</span>(ensemble_path)</span>
<span id="cb13-6"><a href="#cb13-6" aria-hidden="true" tabindex="-1"></a>ensemble</span>
<span id="cb13-7"><a href="#cb13-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; An ensemble of 5 lasso models (v1.0.0).</span></span>
<span id="cb13-8"><a href="#cb13-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb13-9"><a href="#cb13-9" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; The following outcome was modelled:</span></span>
<span id="cb13-10"><a href="#cb13-10" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; birth_weight (binomial), with classes: normal (reference) and low.</span></span>
<span id="cb13-11"><a href="#cb13-11" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb13-12"><a href="#cb13-12" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Variable importance was determined using the none variable importance method.</span></span>
<span id="cb13-13"><a href="#cb13-13" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb13-14"><a href="#cb13-14" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; The following features were used in the ensemble:</span></span>
<span id="cb13-15"><a href="#cb13-15" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; previous_premature_labours (numeric).</span></span>
<span id="cb13-16"><a href="#cb13-16" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; ethnicity (categorical), with levels: white (reference), black and other.</span></span>
<span id="cb13-17"><a href="#cb13-17" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; age_mother (numeric).</span></span>
<span id="cb13-18"><a href="#cb13-18" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; smoking_during_pregnancy (categorical), with levels: no (reference) and yes.</span></span>
<span id="cb13-19"><a href="#cb13-19" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; hypertension_history (categorical), with levels: no (reference) and yes.</span></span>
<span id="cb13-20"><a href="#cb13-20" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; physician_visits_first_trimester (numeric).</span></span>
<span id="cb13-21"><a href="#cb13-21" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; uterine_irritability (categorical), with levels: no (reference) and yes.</span></span>
<span id="cb13-22"><a href="#cb13-22" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; weight_mother_before_pregnancy (numeric).</span></span></code></pre></div>
<p>One can use ensembles of models for prediction:</p>
<div class="sourceCode" id="cb14"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="fu">predict</span>(<span class="at">object=</span>ensemble, <span class="at">newdata=</span>data)</span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;      predicted_class_probability_normal predicted_class_probability_low predicted_class</span></span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   1:                          0.7000000                       0.3000000          normal</span></span>
<span id="cb14-4"><a href="#cb14-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   2:                          0.8494792                       0.1505208          normal</span></span>
<span id="cb14-5"><a href="#cb14-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   3:                          0.7000000                       0.3000000          normal</span></span>
<span id="cb14-6"><a href="#cb14-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   4:                          0.6086993                       0.3913007          normal</span></span>
<span id="cb14-7"><a href="#cb14-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   5:                          0.5435593                       0.4564407          normal</span></span>
<span id="cb14-8"><a href="#cb14-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  ---                                                                                   </span></span>
<span id="cb14-9"><a href="#cb14-9" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 185:                          0.7000000                       0.3000000          normal</span></span>
<span id="cb14-10"><a href="#cb14-10" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 186:                          0.7000000                       0.3000000          normal</span></span>
<span id="cb14-11"><a href="#cb14-11" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 187:                          0.5915751                       0.4084249          normal</span></span>
<span id="cb14-12"><a href="#cb14-12" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 188:                          0.7000000                       0.3000000          normal</span></span>
<span id="cb14-13"><a href="#cb14-13" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 189:                          0.7000000                       0.3000000          normal</span></span></code></pre></div>
<p>Ensembles behave similarly to models during evaluation and explanation steps:</p>
<div class="sourceCode" id="cb15"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a>plots <span class="ot">&lt;-</span> familiar<span class="sc">::</span><span class="fu">plot_model_performance</span>(<span class="at">object=</span>ensemble,</span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a>                                          <span class="at">draw=</span><span class="cn">TRUE</span>,</span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true" tabindex="-1"></a>                                          <span class="at">facet_by=</span><span class="st">&quot;metric&quot;</span>,</span>
<span id="cb15-4"><a href="#cb15-4" aria-hidden="true" tabindex="-1"></a>                                          <span class="at">data=</span>data[batch_id<span class="sc">==</span><span class="st">&quot;validation&quot;</span>],</span>
<span id="cb15-5"><a href="#cb15-5" aria-hidden="true" tabindex="-1"></a>                                          <span class="at">estimation_type=</span><span class="st">&quot;bci&quot;</span>,</span>
<span id="cb15-6"><a href="#cb15-6" aria-hidden="true" tabindex="-1"></a>                                          <span class="at">metric=</span><span class="fu">c</span>(<span class="st">&quot;auc&quot;</span>, <span class="st">&quot;accuracy&quot;</span>),</span>
<span id="cb15-7"><a href="#cb15-7" aria-hidden="true" tabindex="-1"></a>                                          <span class="at">familiar_data_names=</span><span class="st">&quot;lasso&quot;</span>)</span></code></pre></div>
<p><img src="data:image/png;base64,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" title="plot of chunk prospective-model-performance-plot-ensemble" alt="plot of chunk prospective-model-performance-plot-ensemble" style="display: block; margin: auto;" /></p>
<p>There is one important limitation to using ensembles. Normally, when loading an ensemble, the models are not attached to the ensemble. Instead, the <code>model_list</code> attribute of the ensemble object contains a list of paths to the location of the model files at creation. Thus, if you move these files, the ensemble can no longer find and attach the models. There are two ways to avoid this issue.</p>
<p>The first way is to use the <code>update_model_dir_path()</code> method to point the ensemble to the new directory. The second, more generic way, is to create an ensemble on the fly from the underlying models. To do so, we supply a list of models, or paths to these models as the <code>object</code> argument for plot methods and tabular export methods.</p>
<div class="sourceCode" id="cb16"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Generate paths to the model objects.</span></span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a>model_paths <span class="ot">&lt;-</span> <span class="fu">sapply</span>(<span class="fu">list.files</span>(model_directory_path, <span class="at">pattern=</span><span class="st">&quot;model&quot;</span>), <span class="cf">function</span>(x) (<span class="fu">file.path</span>(model_directory_path, x)))</span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-4"><a href="#cb16-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Generate plot using an ad-hoc ensemble.</span></span>
<span id="cb16-5"><a href="#cb16-5" aria-hidden="true" tabindex="-1"></a>plots <span class="ot">&lt;-</span> familiar<span class="sc">::</span><span class="fu">plot_model_performance</span>(<span class="at">object=</span>model_paths,</span>
<span id="cb16-6"><a href="#cb16-6" aria-hidden="true" tabindex="-1"></a>                                          <span class="at">draw=</span><span class="cn">TRUE</span>,</span>
<span id="cb16-7"><a href="#cb16-7" aria-hidden="true" tabindex="-1"></a>                                          <span class="at">facet_by=</span><span class="st">&quot;metric&quot;</span>,</span>
<span id="cb16-8"><a href="#cb16-8" aria-hidden="true" tabindex="-1"></a>                                          <span class="at">data=</span>data[batch_id<span class="sc">==</span><span class="st">&quot;validation&quot;</span>],</span>
<span id="cb16-9"><a href="#cb16-9" aria-hidden="true" tabindex="-1"></a>                                          <span class="at">estimation_type=</span><span class="st">&quot;bci&quot;</span>,</span>
<span id="cb16-10"><a href="#cb16-10" aria-hidden="true" tabindex="-1"></a>                                          <span class="at">metric=</span><span class="fu">c</span>(<span class="st">&quot;auc&quot;</span>, <span class="st">&quot;accuracy&quot;</span>),</span>
<span id="cb16-11"><a href="#cb16-11" aria-hidden="true" tabindex="-1"></a>                                          <span class="at">familiar_data_names=</span><span class="st">&quot;lasso&quot;</span>)</span></code></pre></div>
<p><img src="data:image/png;base64,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" title="plot of chunk prospective-model-performance-plot-new-directory" alt="plot of chunk prospective-model-performance-plot-new-directory" style="display: block; margin: auto;" /></p>
</div>
<div id="customising-exports-and-plots" class="section level1">
<h1>Customising exports and plots</h1>
<p>Familiar also produces data and collection objects. Data objects hold the processed evaluation data derived from a particular data set and are found in the <code>familiar_data</code> folder.</p>
<div class="sourceCode" id="cb17"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="fu">list.files</span>(<span class="fu">file.path</span>(<span class="fu">tempdir</span>(), <span class="st">&quot;familiar_data&quot;</span>))</span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] &quot;20220202154621_lasso_none_1_1_ensemble_1_1_validation_data.RDS&quot; &quot;20220202154621_lasso_none_1_1_pool_1_1_development_data.RDS&quot;   </span></span>
<span id="cb17-3"><a href="#cb17-3" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [3] &quot;20220202154621_lasso_none_1_1_pool_1_1_validation_data.RDS&quot;</span></span></code></pre></div>
<p>In our example, we generated three data objects: one for internal development, one for internal validation, and one for external validation data. These separate data objects are collected in a collection object, which is found in the <code>familiar_collections</code> folder.</p>
<div class="sourceCode" id="cb18"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a><span class="fu">list.files</span>(<span class="fu">file.path</span>(<span class="fu">tempdir</span>(), <span class="st">&quot;familiar_collections&quot;</span>))</span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] &quot;pooled_data.RDS&quot;</span></span></code></pre></div>
<p>There is typically only one collection in this location, but more may exist if <code>summon_familiar</code> is called with <code>evaluate_top_level_only=FALSE</code>.</p>
<p>Note that data and collection objects are static. We cannot use them as flexibly as models and ensembles. For example, we cannot assess different performance metrics using the data stored in familiar data and collection objects or use these objects to predict outcomes for new datasets. Below are exceptions to this rule:</p>
<ul>
<li><p><code>export_fs_vimp</code>, <code>export_model_vimp</code>, and <code>plot_variable_importance</code> and its derived methods (<code>plot_feature_selection_variable_importance</code>, <code>plot_feature_selection_occurrence</code>, <code>plot_model_signature_variable_importance</code> and <code>plot_model_signature_occurrence</code>) allow for specifying and altering feature aggregation methods and thresholds.</p></li>
<li><p><code>export_feature_similarity</code>, <code>export_sample_similarity</code>, <code>export_feature_expression</code>, <code>plot_feature_similarity</code> and <code>plot_sample_clustering</code> methods allow for specifying clustering arguments, but not the similarity metric to assess distance between features. Internally, data and collection objects store distance matrices.</p></li>
</ul>
<p>The primary use of data and collection objects is for customising plotting. For example, the AUC-ROC curves for each species are plotted using the default palette in familiar, and a custom theme based on <code>cowplot::theme_cowplot</code>. We can re-create the plot using the standard R palette, and a different theme to alter its appearance.</p>
<div class="sourceCode" id="cb19"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a>collection <span class="ot">&lt;-</span> <span class="fu">file.path</span>(<span class="fu">tempdir</span>(), <span class="st">&quot;familiar_collections&quot;</span>, <span class="st">&quot;pooled_data.RDS&quot;</span>)</span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-3"><a href="#cb19-3" aria-hidden="true" tabindex="-1"></a>plots <span class="ot">&lt;-</span> <span class="fu">plot_auc_roc_curve</span>(<span class="at">object=</span>collection,</span>
<span id="cb19-4"><a href="#cb19-4" aria-hidden="true" tabindex="-1"></a>                            <span class="at">ggtheme=</span>ggplot2<span class="sc">::</span><span class="fu">theme_dark</span>(),</span>
<span id="cb19-5"><a href="#cb19-5" aria-hidden="true" tabindex="-1"></a>                            <span class="at">discrete_palette=</span><span class="st">&quot;R4&quot;</span>,</span>
<span id="cb19-6"><a href="#cb19-6" aria-hidden="true" tabindex="-1"></a>                            <span class="at">draw=</span><span class="cn">TRUE</span>)</span></code></pre></div>
<p><img src="data:image/png;base64,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" title="plot of chunk prospective-auc_roc-plot" alt="plot of chunk prospective-auc_roc-plot" style="display: block; margin: auto;" /></p>
<div id="exporting-collections" class="section level2">
<h2>Exporting collections</h2>
<p>Generating plot data can take a non-trivial amount of time. Hence it may be preferable to have the collection object available so that plots can be altered and created more quickly. To do so, we can call an export or plot method with <code>export_collection=TRUE</code>.</p>
<div class="sourceCode" id="cb20"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Generate paths to the model objects.</span></span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a>model_paths <span class="ot">&lt;-</span> <span class="fu">sapply</span>(<span class="fu">list.files</span>(model_directory_path, <span class="at">pattern=</span><span class="st">&quot;model&quot;</span>), <span class="cf">function</span>(x) (<span class="fu">file.path</span>(model_directory_path, x)))</span>
<span id="cb20-3"><a href="#cb20-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-4"><a href="#cb20-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Generate plot data (plots + collection) using an ad-hoc ensemble.</span></span>
<span id="cb20-5"><a href="#cb20-5" aria-hidden="true" tabindex="-1"></a>plot_data <span class="ot">&lt;-</span> familiar<span class="sc">::</span><span class="fu">plot_auc_roc_curve</span>(<span class="at">object=</span>model_paths,</span>
<span id="cb20-6"><a href="#cb20-6" aria-hidden="true" tabindex="-1"></a>                                          <span class="at">draw=</span><span class="cn">FALSE</span>,</span>
<span id="cb20-7"><a href="#cb20-7" aria-hidden="true" tabindex="-1"></a>                                          <span class="at">data=</span>data[batch_id<span class="sc">==</span><span class="st">&quot;validation&quot;</span>],</span>
<span id="cb20-8"><a href="#cb20-8" aria-hidden="true" tabindex="-1"></a>                                          <span class="at">export_collection=</span><span class="cn">TRUE</span>)</span></code></pre></div>
<p>The <code>plot_data</code> variable is a list that contains (here) two items: <code>collection</code> and <code>plot_list</code>. The collection object can be used to alter plot elements, such as the theme and palette.</p>
<div class="sourceCode" id="cb21"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a>plots <span class="ot">&lt;-</span> familiar<span class="sc">::</span><span class="fu">plot_auc_roc_curve</span>(<span class="at">object=</span>plot_data<span class="sc">$</span>collection,</span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a>                                      <span class="at">ggtheme=</span>ggplot2<span class="sc">::</span><span class="fu">theme_dark</span>(),</span>
<span id="cb21-3"><a href="#cb21-3" aria-hidden="true" tabindex="-1"></a>                                      <span class="at">discrete_palette=</span><span class="st">&quot;R4&quot;</span>,</span>
<span id="cb21-4"><a href="#cb21-4" aria-hidden="true" tabindex="-1"></a>                                      <span class="at">draw=</span><span class="cn">TRUE</span>)</span></code></pre></div>
<p><img src="data:image/png;base64,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" title="plot of chunk prospective-auc_roc-plot-from-exported-collection" alt="plot of chunk prospective-auc_roc-plot-from-exported-collection" style="display: block; margin: auto;" /></p>
</div>
</div>

<div class="footer">
<br>
<a rel="license" href="https://creativecommons.org/licenses/by/4.0/"><img alt="Creative Commons Licence" style="border-width:0" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFgAAAAfCAMAAABUFvrSAAAAIGNIUk0AAHolAACAgwAA+f8AAIDpAAB1MAAA6mAAADqYAAAXb5JfxUYAAAAEZ0FNQQAAsY58+1GTAAAAAXNSR0IB2cksfwAAAW5QTFRF////////////////7+/v39/f1tXV09bS0tXS0tXR0dTR0dTQ0NTQ0NPPz9PPztLOztHNzdHNzdHMz8/PzdDMzNDMzNDLzM/Ly8/Ly8/Ky87Kys3Jyc3Jyc3IyMzIyMzHx8vHxsrGxsrFxcnFxcnExMnExMjDw8jDxMfDw8fCwsfCwcXAwMXAwMW/wMS/v8S+v8O+vsO+vsK9vcK9vcK8v7+/vMG8vMG7vMC8u8C7u8C6ur+6ur+5ub65ub64uL23t7y2tru1tbq0tLqztLmzs7iysrixsrexsbewsbawsLavsLWvr7Wur7SusLOvrrStrrOtr7KvrbOsrLKrr6+vq7Gqn6OenqCdn5+flpmWk5iTkZSRkZORj4+PiYyJhIaEhIWEgoWCgICAfX98fH98eXx5cHJvcHBwYGBgXV5dUFFQUFBQQ0RDQEBAPj8+NTY1MjMxMDAwKSkpKCkoICAgGxsbEBAQDg4ODQ4NAAAAlzoSDQAAAAN0Uk5TAAoO5yEBUwAAAvhJREFUeNq1lutX2kAQxWmXFDVGYy1EIjQ2VZDiu1CsRQQURYvV+qSKj6II8rANYOT+9z0JqIASo9Y5ydkP2f2d2Ts7d2N4jRcJgwEIBwO+SbdTFGw8ZzZz1n5BdLgnfLPBcCT6fW1jY3P78QEYEA76PWMu0W5lGbrNZGrrYNg+u+ga9fgVcmxtY/NJZAOCfs+IY4Bn6eN8RdlEJX9Ed1uFIfdnfzC8uBJbv5tyqqhMLKa0wQHPiEOwMInLW4Eu9xmzfdDtmQ0uLK3cSXmvBBTS6QJQ2tMC+8YcgpnOApAzSa83mZEBZIff2odGfYFQJNqc8s4VchQhhFA5XO1pgCddAxaFKyeNpBpxGSgNmwXXxMxcWE25fkkJGUIIoExESQPsFnkmC0gUuQmjBGQZq+j2BEKR5dUGLVLIvbkGkxxSrcHO92wCkIyENJL3u+2O8Zng/FJsvR5cRF0GFIqtwaKVvoTcSxrCKOOS7hPdXwLhxUYtUFC+Z6AKQgpoDRZ6joEkaYo4cMQKril/KLLcCE4TVYmqFmkNsK0rD9lIiDdXKCSrwwEhREae6Ve0WIiuPg3M0xVlW171BBe21CGjbLbSYR0c/To3H409TQquHTggREKZ8pbjEiRqqxxXtWjjRLdvLrzUAK4Vr5qwZvEsJsCrzExWF9Tk9gIm84e74BRyRN9xeyS4vkHSmg1yK4Wxt5yUIClDayn0t3SteLWq3RQvjQrN31O87e2dEiBl0tJDJmTrykImN8dtq6AOpIw8Y3OMf2s+bvptU+hJqFrc1yCfpmZDkWYX0mv0H9WWpvS2tH6w8z27e58JJVi7c2ImuNBkQvrBOOWZc0CqsyFKtU3+97OuaQBnXGe90RuTMvCHtpziuWCcmDvPm64m+t2vlmuq/YHqqwnGCcfs1l+mCcbSmgtSe8iDGQNnPEsnrq//fZrltXS4tk3oAOPvT2tPF91uMrXTDNv340JrjQ4hbsHAxeE0z1ksHD99eKFdl0dl/P//Cl+9EPcfS+yBAoqk3eUAAAAASUVORK5CYII=" /></a>
This work is licensed under a <a rel="license" href="https://creativecommons.org/licenses/by/4.0/">Creative Commons Attribution 4.0 International License</a>.
Cite as: Alex Zwanenburg. familiar: Vignettes and Documentation (2021). <a href="https://github.com/alexzwanenburg/familiar">https://github.com/alexzwanenburg/familiar</a>
</div>


<!-- code folding -->


<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
